(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Gu={exports:{}},hi={},Qu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),qh=Symbol.for("react.memo"),Kh=Symbol.for("react.lazy"),kl=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=kl&&t[kl]||t["@@iterator"],typeof t=="function"?t:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Xu={};function Gr(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zu(){}Zu.prototype=Gr.prototype;function ka(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}var ja=ka.prototype=new Zu;ja.constructor=ka;Yu(ja,Gr.prototype);ja.isPureReactComponent=!0;var jl=Array.isArray,ec=Object.prototype.hasOwnProperty,Sa={current:null},tc={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ec.call(e,n)&&!tc.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qn,type:t,key:i,ref:o,props:s,_owner:Sa.current}}function Qh(t,e){return{$$typeof:qn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ba(t){return typeof t=="object"&&t!==null&&t.$$typeof===qn}function Jh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sl=/\/+/g;function Li(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jh(""+t.key):e.toString(36)}function bs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qn:case Ih:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Li(o,0):n,jl(s)?(r="",t!=null&&(r=t.replace(Sl,"$&/")+"/"),bs(s,e,r,"",function(d){return d})):s!=null&&(ba(s)&&(s=Qh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",jl(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+Li(i,l);o+=bs(i,e,r,u,s)}else if(u=Gh(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+Li(i,l++),o+=bs(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ss(t,e,r){if(t==null)return t;var n=[],s=0;return bs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Yh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Ns={transition:null},Xh={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:Sa};function nc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ss,forEach:function(t,e,r){ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ss(t,function(){e++}),e},toArray:function(t){return ss(t,function(e){return e})||[]},only:function(t){if(!ba(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=Gr;D.Fragment=Mh;D.Profiler=Fh;D.PureComponent=ka;D.StrictMode=zh;D.Suspense=Vh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xh;D.act=nc;D.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ec.call(e,u)&&!tc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:qn,type:t.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(t){return t={$$typeof:Wh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bh,_context:t},t.Consumer=t};D.createElement=rc;D.createFactory=function(t){var e=rc.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Hh,render:t}};D.isValidElement=ba;D.lazy=function(t){return{$$typeof:Kh,_payload:{_status:-1,_result:t},_init:Yh}};D.memo=function(t,e){return{$$typeof:qh,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=e}};D.unstable_act=nc;D.useCallback=function(t,e){return xe.current.useCallback(t,e)};D.useContext=function(t){return xe.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};D.useEffect=function(t,e){return xe.current.useEffect(t,e)};D.useId=function(){return xe.current.useId()};D.useImperativeHandle=function(t,e,r){return xe.current.useImperativeHandle(t,e,r)};D.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return xe.current.useMemo(t,e)};D.useReducer=function(t,e,r){return xe.current.useReducer(t,e,r)};D.useRef=function(t){return xe.current.useRef(t)};D.useState=function(t){return xe.current.useState(t)};D.useSyncExternalStore=function(t,e,r){return xe.current.useSyncExternalStore(t,e,r)};D.useTransition=function(){return xe.current.useTransition()};D.version="18.3.1";Qu.exports=D;var E=Qu.exports;const sc=Uh(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=E,ef=Symbol.for("react.element"),tf=Symbol.for("react.fragment"),rf=Object.prototype.hasOwnProperty,nf=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sf={key:!0,ref:!0,__self:!0,__source:!0};function ic(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)rf.call(e,n)&&!sf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:ef,type:t,key:i,ref:o,props:s,_owner:nf.current}}hi.Fragment=tf;hi.jsx=ic;hi.jsxs=ic;Gu.exports=hi;var a=Gu.exports,oc={exports:{}},Ae={},ac={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var $=P.length;P.push(A);e:for(;0<$;){var J=$-1>>>1,se=P[J];if(0<s(se,A))P[J]=A,P[$]=se,$=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],$=P.pop();if($!==A){P[0]=$;e:for(var J=0,se=P.length,rs=se>>>1;J<rs;){var Wt=2*(J+1)-1,Ri=P[Wt],Ht=Wt+1,ns=P[Ht];if(0>s(Ri,$))Ht<se&&0>s(ns,Ri)?(P[J]=ns,P[Ht]=$,J=Ht):(P[J]=Ri,P[Wt]=$,J=Wt);else if(Ht<se&&0>s(ns,$))P[J]=ns,P[Ht]=$,J=Ht;else break e}}return A}function s(P,A){var $=P.sortIndex-A.sortIndex;return $!==0?$:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],c=1,h=null,f=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var A=r(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=P)n(d),A.sortIndex=A.expirationTime,e(u,A);else break;A=r(d)}}function w(P){if(x=!1,g(P),!y)if(r(u)!==null)y=!0,vt(b);else{var A=r(d);A!==null&&Fe(w,A.startTime-P)}}function b(P,A){y=!1,x&&(x=!1,m(N),N=-1),v=!0;var $=f;try{for(g(A),h=r(u);h!==null&&(!(h.expirationTime>A)||P&&!me());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var se=J(h.expirationTime<=A);A=t.unstable_now(),typeof se=="function"?h.callback=se:h===r(u)&&n(u),g(A)}else n(u);h=r(u)}if(h!==null)var rs=!0;else{var Wt=r(d);Wt!==null&&Fe(w,Wt.startTime-A),rs=!1}return rs}finally{h=null,f=$,v=!1}}var k=!1,S=null,N=-1,L=5,R=-1;function me(){return!(t.unstable_now()-R<L)}function Xe(){if(S!==null){var P=t.unstable_now();R=P;var A=!0;try{A=S(!0,P)}finally{A?it():(k=!1,S=null)}}else k=!1}var it;if(typeof p=="function")it=function(){p(Xe)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,X=C.port2;C.port1.onmessage=Xe,it=function(){X.postMessage(null)}}else it=function(){_(Xe,0)};function vt(P){S=P,k||(k=!0,it())}function Fe(P,A){N=_(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,vt(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var $=f;f=A;try{return P()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=f;f=P;try{return A()}finally{f=$}},t.unstable_scheduleCallback=function(P,A,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,P={id:c++,callback:A,priorityLevel:P,startTime:$,expirationTime:se,sortIndex:-1},$>J?(P.sortIndex=$,e(d,P),r(u)===null&&P===r(d)&&(x?(m(N),N=-1):x=!0,Fe(w,$-J))):(P.sortIndex=se,e(u,P),y||v||(y=!0,vt(b))),P},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(P){var A=f;return function(){var $=f;f=A;try{return P.apply(this,arguments)}finally{f=$}}}})(lc);ac.exports=lc;var of=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=E,Oe=of;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uc=new Set,En={};function lr(t,e){Mr(t,e),Mr(t+"Capture",e)}function Mr(t,e){for(En[t]=e,t=0;t<e.length;t++)uc.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,lf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bl={},Nl={};function uf(t){return mo.call(Nl,t)?!0:mo.call(bl,t)?!1:lf.test(t)?Nl[t]=!0:(bl[t]=!0,!1)}function cf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function df(t,e,r,n){if(e===null||typeof e>"u"||cf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var Na=/[\-:]([a-z])/g;function Ea(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Na,Ea);ce[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Na,Ea);ce[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Na,Ea);ce[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ca(t,e,r,n){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(df(e,r,s,n)&&(r=null),n||s===null?uf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var yt=af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),wr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),cc=Symbol.for("react.provider"),dc=Symbol.for("react.context"),Pa=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Oa=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),hc=Symbol.for("react.offscreen"),El=Symbol.iterator;function Zr(t){return t===null||typeof t!="object"?null:(t=El&&t[El]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,$i;function un(t){if($i===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Ui=!1;function Di(t,e){if(!t||Ui)return"";Ui=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ui=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?un(t):""}function hf(t){switch(t.tag){case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 2:case 15:return t=Di(t.type,!1),t;case 11:return t=Di(t.type.render,!1),t;case 1:return t=Di(t.type,!0),t;default:return""}}function xo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _r:return"Fragment";case wr:return"Portal";case go:return"Profiler";case Ta:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dc:return(t.displayName||"Context")+".Consumer";case cc:return(t._context.displayName||"Context")+".Provider";case Pa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oa:return e=t.displayName||null,e!==null?e:xo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return xo(t(e))}catch{}}return null}function ff(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xo(e);case 8:return e===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pf(t){var e=fc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function os(t){t._valueTracker||(t._valueTracker=pf(t))}function pc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var r=e.checked;return G({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Cl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mc(t,e){e=e.checked,e!=null&&Ca(t,"checked",e,!1)}function _o(t,e){mc(t,e);var r=Dt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ko(t,e.type,r):e.hasOwnProperty("defaultValue")&&ko(t,e.type,Dt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ko(t,e,r){(e!=="number"||Ds(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cn=Array.isArray;function Ar(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function jo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return G({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(cn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dt(r)}}function gc(t,e){var r=Dt(e.value),n=Dt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ol(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var as,vc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=as.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mf=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(t){mf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pn[e]=pn[t]})});function xc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pn.hasOwnProperty(t)&&pn[t]?(""+e).trim():e+"px"}function wc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=xc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var gf=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(gf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function No(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,Rr=null,Lr=null;function Al(t){if(t=Qn(t)){if(typeof Co!="function")throw Error(j(280));var e=t.stateNode;e&&(e=yi(e),Co(t.stateNode,t.type,e))}}function _c(t){Rr?Lr?Lr.push(t):Lr=[t]:Rr=t}function kc(){if(Rr){var t=Rr,e=Lr;if(Lr=Rr=null,Al(t),e)for(t=0;t<e.length;t++)Al(e[t])}}function jc(t,e){return t(e)}function Sc(){}var Ii=!1;function bc(t,e,r){if(Ii)return t(e,r);Ii=!0;try{return jc(t,e,r)}finally{Ii=!1,(Rr!==null||Lr!==null)&&(Sc(),kc())}}function Tn(t,e){var r=t.stateNode;if(r===null)return null;var n=yi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var To=!1;if(ft)try{var en={};Object.defineProperty(en,"passive",{get:function(){To=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{To=!1}function yf(t,e,r,n,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(c){this.onError(c)}}var mn=!1,Is=null,Ms=!1,Po=null,vf={onError:function(t){mn=!0,Is=t}};function xf(t,e,r,n,s,i,o,l,u){mn=!1,Is=null,yf.apply(vf,arguments)}function wf(t,e,r,n,s,i,o,l,u){if(xf.apply(this,arguments),mn){if(mn){var d=Is;mn=!1,Is=null}else throw Error(j(198));Ms||(Ms=!0,Po=d)}}function ur(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Nc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rl(t){if(ur(t)!==t)throw Error(j(188))}function _f(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rl(s),t;if(i===n)return Rl(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Ec(t){return t=_f(t),t!==null?Cc(t):null}function Cc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cc(t);if(e!==null)return e;t=t.sibling}return null}var Tc=Oe.unstable_scheduleCallback,Ll=Oe.unstable_cancelCallback,kf=Oe.unstable_shouldYield,jf=Oe.unstable_requestPaint,Y=Oe.unstable_now,Sf=Oe.unstable_getCurrentPriorityLevel,Ra=Oe.unstable_ImmediatePriority,Pc=Oe.unstable_UserBlockingPriority,zs=Oe.unstable_NormalPriority,bf=Oe.unstable_LowPriority,Oc=Oe.unstable_IdlePriority,fi=null,nt=null;function Nf(t){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:Tf,Ef=Math.log,Cf=Math.LN2;function Tf(t){return t>>>=0,t===0?32:31-(Ef(t)/Cf|0)|0}var ls=64,us=4194304;function dn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=dn(l):(i&=o,i!==0&&(n=dn(i)))}else o=r&~s,o!==0?n=dn(o):i!==0&&(n=dn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ge(e),s=1<<r,n|=t[r],e&=~s;return n}function Pf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ge(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=Pf(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Oo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ac(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function Mi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Kn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ge(e),t[e]=r}function Af(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ge(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function La(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ge(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Rc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lc,$a,$c,Uc,Dc,Ao=!1,cs=[],Tt=null,Pt=null,Ot=null,Pn=new Map,On=new Map,St=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(t,e){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(e.pointerId)}}function tn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qn(e),e!==null&&$a(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lf(t,e,r,n,s){switch(e){case"focusin":return Tt=tn(Tt,t,e,r,n,s),!0;case"dragenter":return Pt=tn(Pt,t,e,r,n,s),!0;case"mouseover":return Ot=tn(Ot,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Pn.set(i,tn(Pn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,On.set(i,tn(On.get(i)||null,t,e,r,n,s)),!0}return!1}function Ic(t){var e=Yt(t.target);if(e!==null){var r=ur(e);if(r!==null){if(e=r.tag,e===13){if(e=Nc(r),e!==null){t.blockedOn=e,Dc(t.priority,function(){$c(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Eo=n,r.target.dispatchEvent(n),Eo=null}else return e=Qn(r),e!==null&&$a(e),t.blockedOn=r,!1;e.shift()}return!0}function Ul(t,e,r){Es(t)&&r.delete(e)}function $f(){Ao=!1,Tt!==null&&Es(Tt)&&(Tt=null),Pt!==null&&Es(Pt)&&(Pt=null),Ot!==null&&Es(Ot)&&(Ot=null),Pn.forEach(Ul),On.forEach(Ul)}function rn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ao||(Ao=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,$f)))}function An(t){function e(s){return rn(s,t)}if(0<cs.length){rn(cs[0],t);for(var r=1;r<cs.length;r++){var n=cs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Tt!==null&&rn(Tt,t),Pt!==null&&rn(Pt,t),Ot!==null&&rn(Ot,t),Pn.forEach(e),On.forEach(e),r=0;r<St.length;r++)n=St[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)Ic(r),r.blockedOn===null&&St.shift()}var $r=yt.ReactCurrentBatchConfig,Bs=!0;function Uf(t,e,r,n){var s=M,i=$r.transition;$r.transition=null;try{M=1,Ua(t,e,r,n)}finally{M=s,$r.transition=i}}function Df(t,e,r,n){var s=M,i=$r.transition;$r.transition=null;try{M=4,Ua(t,e,r,n)}finally{M=s,$r.transition=i}}function Ua(t,e,r,n){if(Bs){var s=Ro(t,e,r,n);if(s===null)Qi(t,e,n,Ws,r),$l(t,n);else if(Lf(s,t,e,r,n))n.stopPropagation();else if($l(t,n),e&4&&-1<Rf.indexOf(t)){for(;s!==null;){var i=Qn(s);if(i!==null&&Lc(i),i=Ro(t,e,r,n),i===null&&Qi(t,e,n,Ws,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Qi(t,e,n,null,r)}}var Ws=null;function Ro(t,e,r,n){if(Ws=null,t=Aa(n),t=Yt(t),t!==null)if(e=ur(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Nc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Ra:return 1;case Pc:return 4;case zs:case bf:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var Et=null,Da=null,Cs=null;function zc(){if(Cs)return Cs;var t,e=Da,r=e.length,n,s="value"in Et?Et.value:Et.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Cs=s.slice(t,1<n?1-n:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Dl(){return!1}function Re(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:Dl,this.isPropagationStopped=Dl,this}return G(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Re(Qr),Gn=G({},Qr,{view:0,detail:0}),If=Re(Gn),zi,Fi,nn,pi=G({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nn&&(nn&&t.type==="mousemove"?(zi=t.screenX-nn.screenX,Fi=t.screenY-nn.screenY):Fi=zi=0,nn=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),Il=Re(pi),Mf=G({},pi,{dataTransfer:0}),zf=Re(Mf),Ff=G({},Gn,{relatedTarget:0}),Bi=Re(Ff),Bf=G({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=Re(Bf),Hf=G({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vf=Re(Hf),qf=G({},Qr,{data:0}),Ml=Re(qf),Kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qf[t])?!!e[t]:!1}function Ma(){return Jf}var Yf=G({},Gn,{key:function(t){if(t.key){var e=Kf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xf=Re(Yf),Zf=G({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Re(Zf),ep=G({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),tp=Re(ep),rp=G({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=Re(rp),sp=G({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Re(sp),op=[9,13,27,32],za=ft&&"CompositionEvent"in window,gn=null;ft&&"documentMode"in document&&(gn=document.documentMode);var ap=ft&&"TextEvent"in window&&!gn,Fc=ft&&(!za||gn&&8<gn&&11>=gn),Fl=" ",Bl=!1;function Bc(t,e){switch(t){case"keyup":return op.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function lp(t,e){switch(t){case"compositionend":return Wc(e);case"keypress":return e.which!==32?null:(Bl=!0,Fl);case"textInput":return t=e.data,t===Fl&&Bl?null:t;default:return null}}function up(t,e){if(kr)return t==="compositionend"||!za&&Bc(t,e)?(t=zc(),Cs=Da=Et=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fc&&e.locale!=="ko"?null:e.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cp[t.type]:e==="textarea"}function Hc(t,e,r,n){_c(n),e=Hs(e,"onChange"),0<e.length&&(r=new Ia("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yn=null,Rn=null;function dp(t){td(t,0)}function mi(t){var e=br(t);if(pc(e))return t}function hp(t,e){if(t==="change")return e}var Vc=!1;if(ft){var Wi;if(ft){var Hi="oninput"in document;if(!Hi){var Hl=document.createElement("div");Hl.setAttribute("oninput","return;"),Hi=typeof Hl.oninput=="function"}Wi=Hi}else Wi=!1;Vc=Wi&&(!document.documentMode||9<document.documentMode)}function Vl(){yn&&(yn.detachEvent("onpropertychange",qc),Rn=yn=null)}function qc(t){if(t.propertyName==="value"&&mi(Rn)){var e=[];Hc(e,Rn,t,Aa(t)),bc(dp,e)}}function fp(t,e,r){t==="focusin"?(Vl(),yn=e,Rn=r,yn.attachEvent("onpropertychange",qc)):t==="focusout"&&Vl()}function pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mi(Rn)}function mp(t,e){if(t==="click")return mi(e)}function gp(t,e){if(t==="input"||t==="change")return mi(e)}function yp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:yp;function Ln(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!mo.call(e,s)||!Ye(t[s],e[s]))return!1}return!0}function ql(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kl(t,e){var r=ql(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ql(r)}}function Kc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gc(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Fa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vp(t){var e=Gc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Kc(r.ownerDocument.documentElement,r)){if(n!==null&&Fa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Kl(r,i);var o=Kl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xp=ft&&"documentMode"in document&&11>=document.documentMode,jr=null,Lo=null,vn=null,$o=!1;function Gl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$o||jr==null||jr!==Ds(n)||(n=jr,"selectionStart"in n&&Fa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vn&&Ln(vn,n)||(vn=n,n=Hs(Lo,"onSelect"),0<n.length&&(e=new Ia("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jr)))}function hs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Vi={},Qc={};ft&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function gi(t){if(Vi[t])return Vi[t];if(!Sr[t])return t;var e=Sr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qc)return Vi[t]=e[r];return t}var Jc=gi("animationend"),Yc=gi("animationiteration"),Xc=gi("animationstart"),Zc=gi("transitionend"),ed=new Map,Ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mt(t,e){ed.set(t,e),lr(e,[t])}for(var qi=0;qi<Ql.length;qi++){var Ki=Ql[qi],wp=Ki.toLowerCase(),_p=Ki[0].toUpperCase()+Ki.slice(1);Mt(wp,"on"+_p)}Mt(Jc,"onAnimationEnd");Mt(Yc,"onAnimationIteration");Mt(Xc,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Zc,"onTransitionEnd");Mr("onMouseEnter",["mouseout","mouseover"]);Mr("onMouseLeave",["mouseout","mouseover"]);Mr("onPointerEnter",["pointerout","pointerover"]);Mr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(hn));function Jl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wf(n,e,void 0,t),t.currentTarget=null}function td(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Jl(s,l,d),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Jl(s,l,d),i=u}}}if(Ms)throw t=Po,Ms=!1,Po=null,t}function W(t,e){var r=e[zo];r===void 0&&(r=e[zo]=new Set);var n=t+"__bubble";r.has(n)||(rd(e,t,2,!1),r.add(n))}function Gi(t,e,r){var n=0;e&&(n|=4),rd(r,t,n,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function $n(t){if(!t[fs]){t[fs]=!0,uc.forEach(function(r){r!=="selectionchange"&&(kp.has(r)||Gi(r,!1,t),Gi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,Gi("selectionchange",!1,e))}}function rd(t,e,r,n){switch(Mc(e)){case 1:var s=Uf;break;case 4:s=Df;break;default:s=Ua}r=s.bind(null,e,r,t),s=void 0,!To||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Qi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Yt(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}bc(function(){var d=i,c=Aa(r),h=[];e:{var f=ed.get(t);if(f!==void 0){var v=Ia,y=t;switch(t){case"keypress":if(Ts(r)===0)break e;case"keydown":case"keyup":v=Xf;break;case"focusin":y="focus",v=Bi;break;case"focusout":y="blur",v=Bi;break;case"beforeblur":case"afterblur":v=Bi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tp;break;case Jc:case Yc:case Xc:v=Wf;break;case Zc:v=np;break;case"scroll":v=If;break;case"wheel":v=ip;break;case"copy":case"cut":case"paste":v=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=zl}var x=(e&4)!==0,_=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var p=d,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Tn(p,m),w!=null&&x.push(Un(p,w,g)))),_)break;p=p.return}0<x.length&&(f=new v(f,y,null,r,c),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Eo&&(y=r.relatedTarget||r.fromElement)&&(Yt(y)||y[pt]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=d,y=y?Yt(y):null,y!==null&&(_=ur(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(x=Il,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=zl,w="onPointerLeave",m="onPointerEnter",p="pointer"),_=v==null?f:br(v),g=y==null?f:br(y),f=new x(w,p+"leave",v,r,c),f.target=_,f.relatedTarget=g,w=null,Yt(c)===d&&(x=new x(m,p+"enter",y,r,c),x.target=g,x.relatedTarget=_,w=x),_=w,v&&y)t:{for(x=v,m=y,p=0,g=x;g;g=hr(g))p++;for(g=0,w=m;w;w=hr(w))g++;for(;0<p-g;)x=hr(x),p--;for(;0<g-p;)m=hr(m),g--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=hr(x),m=hr(m)}x=null}else x=null;v!==null&&Yl(h,f,v,x,!1),y!==null&&_!==null&&Yl(h,_,y,x,!0)}}e:{if(f=d?br(d):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=hp;else if(Wl(f))if(Vc)b=gp;else{b=pp;var k=fp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=mp);if(b&&(b=b(t,d))){Hc(h,b,r,c);break e}k&&k(t,f,d),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ko(f,"number",f.value)}switch(k=d?br(d):window,t){case"focusin":(Wl(k)||k.contentEditable==="true")&&(jr=k,Lo=d,vn=null);break;case"focusout":vn=Lo=jr=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Gl(h,r,c);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":Gl(h,r,c)}var S;if(za)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else kr?Bc(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Fc&&r.locale!=="ko"&&(kr||N!=="onCompositionStart"?N==="onCompositionEnd"&&kr&&(S=zc()):(Et=c,Da="value"in Et?Et.value:Et.textContent,kr=!0)),k=Hs(d,N),0<k.length&&(N=new Ml(N,t,null,r,c),h.push({event:N,listeners:k}),S?N.data=S:(S=Wc(r),S!==null&&(N.data=S)))),(S=ap?lp(t,r):up(t,r))&&(d=Hs(d,"onBeforeInput"),0<d.length&&(c=new Ml("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:d}),c.data=S))}td(h,e)})}function Un(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tn(t,r),i!=null&&n.unshift(Un(t,i,s)),i=Tn(t,e),i!=null&&n.push(Un(t,i,s))),t=t.return}return n}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,s?(u=Tn(r,i),u!=null&&o.unshift(Un(r,u,l))):s||(u=Tn(r,i),u!=null&&o.push(Un(r,u,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var jp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Xl(t){return(typeof t=="string"?t:""+t).replace(jp,`
`).replace(Sp,"")}function ps(t,e,r){if(e=Xl(e),Xl(t)!==e&&r)throw Error(j(425))}function Vs(){}var Uo=null,Do=null;function Io(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mo=typeof setTimeout=="function"?setTimeout:void 0,bp=typeof clearTimeout=="function"?clearTimeout:void 0,Zl=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof Zl<"u"?function(t){return Zl.resolve(null).then(t).catch(Ep)}:Mo;function Ep(t){setTimeout(function(){throw t})}function Ji(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),An(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);An(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),rt="__reactFiber$"+Jr,Dn="__reactProps$"+Jr,pt="__reactContainer$"+Jr,zo="__reactEvents$"+Jr,Cp="__reactListeners$"+Jr,Tp="__reactHandles$"+Jr;function Yt(t){var e=t[rt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pt]||r[rt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=eu(t);t!==null;){if(r=t[rt])return r;t=eu(t)}return e}t=r,r=t.parentNode}return null}function Qn(t){return t=t[rt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function yi(t){return t[Dn]||null}var Fo=[],Nr=-1;function zt(t){return{current:t}}function H(t){0>Nr||(t.current=Fo[Nr],Fo[Nr]=null,Nr--)}function B(t,e){Nr++,Fo[Nr]=t.current,t.current=e}var It={},pe=zt(It),be=zt(!1),nr=It;function zr(t,e){var r=t.type.contextTypes;if(!r)return It;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function qs(){H(be),H(pe)}function tu(t,e,r){if(pe.current!==It)throw Error(j(168));B(pe,e),B(be,r)}function nd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,ff(t)||"Unknown",s));return G({},r,n)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||It,nr=pe.current,B(pe,t),B(be,be.current),!0}function ru(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=nd(t,e,nr),n.__reactInternalMemoizedMergedChildContext=t,H(be),H(pe),B(pe,t)):H(be),B(be,r)}var ut=null,vi=!1,Yi=!1;function sd(t){ut===null?ut=[t]:ut.push(t)}function Pp(t){vi=!0,sd(t)}function Ft(){if(!Yi&&ut!==null){Yi=!0;var t=0,e=M;try{var r=ut;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ut=null,vi=!1}catch(s){throw ut!==null&&(ut=ut.slice(t+1)),Tc(Ra,Ft),s}finally{M=e,Yi=!1}}return null}var Er=[],Cr=0,Gs=null,Qs=0,Le=[],$e=0,sr=null,ct=1,dt="";function Kt(t,e){Er[Cr++]=Qs,Er[Cr++]=Gs,Gs=t,Qs=e}function id(t,e,r){Le[$e++]=ct,Le[$e++]=dt,Le[$e++]=sr,sr=t;var n=ct;t=dt;var s=32-Ge(n)-1;n&=~(1<<s),r+=1;var i=32-Ge(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ct=1<<32-Ge(e)+s|r<<s|n,dt=i+t}else ct=1<<i|r<<s|n,dt=t}function Ba(t){t.return!==null&&(Kt(t,1),id(t,1,0))}function Wa(t){for(;t===Gs;)Gs=Er[--Cr],Er[Cr]=null,Qs=Er[--Cr],Er[Cr]=null;for(;t===sr;)sr=Le[--$e],Le[$e]=null,dt=Le[--$e],Le[$e]=null,ct=Le[--$e],Le[$e]=null}var Pe=null,Te=null,V=!1,Ke=null;function od(t,e){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Te=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sr!==null?{id:ct,overflow:dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pe=t,Te=null,!0):!1;default:return!1}}function Bo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wo(t){if(V){var e=Te;if(e){var r=e;if(!nu(t,e)){if(Bo(t))throw Error(j(418));e=At(r.nextSibling);var n=Pe;e&&nu(t,e)?od(n,r):(t.flags=t.flags&-4097|2,V=!1,Pe=t)}}else{if(Bo(t))throw Error(j(418));t.flags=t.flags&-4097|2,V=!1,Pe=t}}}function su(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function ms(t){if(t!==Pe)return!1;if(!V)return su(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Io(t.type,t.memoizedProps)),e&&(e=Te)){if(Bo(t))throw ad(),Error(j(418));for(;e;)od(t,e),e=At(e.nextSibling)}if(su(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Te=At(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Pe?At(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=Te;t;)t=At(t.nextSibling)}function Fr(){Te=Pe=null,V=!1}function Ha(t){Ke===null?Ke=[t]:Ke.push(t)}var Op=yt.ReactCurrentBatchConfig;function sn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function gs(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iu(t){var e=t._init;return e(t._payload)}function ld(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ut(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=so(g,m.mode,w),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,w){var b=g.type;return b===_r?c(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&iu(b)===p.type)?(w=s(p,g.props),w.ref=sn(m,p,g),w.return=m,w):(w=Us(g.type,g.key,g.props,null,m.mode,w),w.ref=sn(m,p,g),w.return=m,w)}function d(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=io(g,m.mode,w),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,w,b){return p===null||p.tag!==7?(p=tr(g,m.mode,w,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=so(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case is:return g=Us(p.type,p.key,p.props,null,m.mode,g),g.ref=sn(m,null,p),g.return=m,g;case wr:return p=io(p,m.mode,g),p.return=m,p;case kt:var w=p._init;return h(m,w(p._payload),g)}if(cn(p)||Zr(p))return p=tr(p,m.mode,g,null),p.return=m,p;gs(m,p)}return null}function f(m,p,g,w){var b=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case is:return g.key===b?u(m,p,g,w):null;case wr:return g.key===b?d(m,p,g,w):null;case kt:return b=g._init,f(m,p,b(g._payload),w)}if(cn(g)||Zr(g))return b!==null?null:c(m,p,g,w,null);gs(m,g)}return null}function v(m,p,g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case is:return m=m.get(w.key===null?g:w.key)||null,u(p,m,w,b);case wr:return m=m.get(w.key===null?g:w.key)||null,d(p,m,w,b);case kt:var k=w._init;return v(m,p,g,k(w._payload),b)}if(cn(w)||Zr(w))return m=m.get(g)||null,c(p,m,w,b,null);gs(p,w)}return null}function y(m,p,g,w){for(var b=null,k=null,S=p,N=p=0,L=null;S!==null&&N<g.length;N++){S.index>N?(L=S,S=null):L=S.sibling;var R=f(m,S,g[N],w);if(R===null){S===null&&(S=L);break}t&&S&&R.alternate===null&&e(m,S),p=i(R,p,N),k===null?b=R:k.sibling=R,k=R,S=L}if(N===g.length)return r(m,S),V&&Kt(m,N),b;if(S===null){for(;N<g.length;N++)S=h(m,g[N],w),S!==null&&(p=i(S,p,N),k===null?b=S:k.sibling=S,k=S);return V&&Kt(m,N),b}for(S=n(m,S);N<g.length;N++)L=v(S,m,N,g[N],w),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?N:L.key),p=i(L,p,N),k===null?b=L:k.sibling=L,k=L);return t&&S.forEach(function(me){return e(m,me)}),V&&Kt(m,N),b}function x(m,p,g,w){var b=Zr(g);if(typeof b!="function")throw Error(j(150));if(g=b.call(g),g==null)throw Error(j(151));for(var k=b=null,S=p,N=p=0,L=null,R=g.next();S!==null&&!R.done;N++,R=g.next()){S.index>N?(L=S,S=null):L=S.sibling;var me=f(m,S,R.value,w);if(me===null){S===null&&(S=L);break}t&&S&&me.alternate===null&&e(m,S),p=i(me,p,N),k===null?b=me:k.sibling=me,k=me,S=L}if(R.done)return r(m,S),V&&Kt(m,N),b;if(S===null){for(;!R.done;N++,R=g.next())R=h(m,R.value,w),R!==null&&(p=i(R,p,N),k===null?b=R:k.sibling=R,k=R);return V&&Kt(m,N),b}for(S=n(m,S);!R.done;N++,R=g.next())R=v(S,m,N,R.value,w),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?N:R.key),p=i(R,p,N),k===null?b=R:k.sibling=R,k=R);return t&&S.forEach(function(Xe){return e(m,Xe)}),V&&Kt(m,N),b}function _(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===_r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case is:e:{for(var b=g.key,k=p;k!==null;){if(k.key===b){if(b=g.type,b===_r){if(k.tag===7){r(m,k.sibling),p=s(k,g.props.children),p.return=m,m=p;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&iu(b)===k.type){r(m,k.sibling),p=s(k,g.props),p.ref=sn(m,k,g),p.return=m,m=p;break e}r(m,k);break}else e(m,k);k=k.sibling}g.type===_r?(p=tr(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=Us(g.type,g.key,g.props,null,m.mode,w),w.ref=sn(m,p,g),w.return=m,m=w)}return o(m);case wr:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=io(g,m.mode,w),p.return=m,m=p}return o(m);case kt:return k=g._init,_(m,p,k(g._payload),w)}if(cn(g))return y(m,p,g,w);if(Zr(g))return x(m,p,g,w);gs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=so(g,m.mode,w),p.return=m,m=p),o(m)):r(m,p)}return _}var Br=ld(!0),ud=ld(!1),Js=zt(null),Ys=null,Tr=null,Va=null;function qa(){Va=Tr=Ys=null}function Ka(t){var e=Js.current;H(Js),t._currentValue=e}function Ho(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ur(t,e){Ys=t,Va=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(Va!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(Ys===null)throw Error(j(308));Tr=t,Ys.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Xt=null;function Ga(t){Xt===null?Xt=[t]:Xt.push(t)}function cd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ga(e)):(r.next=s.next,s.next=r),e.interleaved=r,mt(t,n)}function mt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jt=!1;function Qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,I&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ga(n)):(e.next=s.next,s.next=e),n.interleaved=e,mt(t,r)}function Ps(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,La(t,r)}}function ou(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xs(t,e,r,n){var s=t.updateQueue;jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=d:l.next=d,c.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,c=d=u=null,l=i;do{var f=l.lane,v=l.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(f=e,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=G({},h,f);break e;case 2:jt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(d=c=v,u=h):c=c.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);or|=o,t.lanes=o,t.memoizedState=h}}function au(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Jn={},st=zt(Jn),In=zt(Jn),Mn=zt(Jn);function Zt(t){if(t===Jn)throw Error(j(174));return t}function Ja(t,e){switch(B(Mn,e),B(In,t),B(st,Jn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:So(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=So(e,t)}H(st),B(st,e)}function Wr(){H(st),H(In),H(Mn)}function hd(t){Zt(Mn.current);var e=Zt(st.current),r=So(e,t.type);e!==r&&(B(In,t),B(st,r))}function Ya(t){In.current===t&&(H(st),H(In))}var q=zt(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xi=[];function Xa(){for(var t=0;t<Xi.length;t++)Xi[t]._workInProgressVersionPrimary=null;Xi.length=0}var Os=yt.ReactCurrentDispatcher,Zi=yt.ReactCurrentBatchConfig,ir=0,K=null,re=null,ie=null,ei=!1,xn=!1,zn=0,Ap=0;function de(){throw Error(j(321))}function Za(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ye(t[r],e[r]))return!1;return!0}function el(t,e,r,n,s,i){if(ir=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Os.current=t===null||t.memoizedState===null?Up:Dp,t=r(n,s),xn){i=0;do{if(xn=!1,zn=0,25<=i)throw Error(j(301));i+=1,ie=re=null,e.updateQueue=null,Os.current=Ip,t=r(n,s)}while(xn)}if(Os.current=ti,e=re!==null&&re.next!==null,ir=0,ie=re=K=null,ei=!1,e)throw Error(j(300));return t}function tl(){var t=zn!==0;return zn=0,t}function et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function ze(){if(re===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,re=t;else{if(t===null)throw Error(j(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function Fn(t,e){return typeof e=="function"?e(t):e}function eo(t){var e=ze(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,d=i;do{var c=d.lane;if((ir&c)===c)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,K.lanes|=c,or|=c}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=l,Ye(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,or|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function to(t){var e=ze(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ye(i,e.memoizedState)||(je=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function fd(){}function pd(t,e){var r=K,n=ze(),s=e(),i=!Ye(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,rl(yd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,Bn(9,gd.bind(null,r,n,s,e),void 0,null),ae===null)throw Error(j(349));ir&30||md(r,e,s)}return s}function md(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gd(t,e,r,n){e.value=r,e.getSnapshot=n,vd(e)&&xd(t)}function yd(t,e,r){return r(function(){vd(e)&&xd(t)})}function vd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ye(t,r)}catch{return!0}}function xd(t){var e=mt(t,1);e!==null&&Qe(e,t,1,-1)}function lu(t){var e=et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},e.queue=t,t=t.dispatch=$p.bind(null,K,t),[e.memoizedState,t]}function Bn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wd(){return ze().memoizedState}function As(t,e,r,n){var s=et();K.flags|=t,s.memoizedState=Bn(1|e,r,void 0,n===void 0?null:n)}function xi(t,e,r,n){var s=ze();n=n===void 0?null:n;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,n!==null&&Za(n,o.deps)){s.memoizedState=Bn(e,r,i,n);return}}K.flags|=t,s.memoizedState=Bn(1|e,r,i,n)}function uu(t,e){return As(8390656,8,t,e)}function rl(t,e){return xi(2048,8,t,e)}function _d(t,e){return xi(4,2,t,e)}function kd(t,e){return xi(4,4,t,e)}function jd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sd(t,e,r){return r=r!=null?r.concat([t]):null,xi(4,4,jd.bind(null,e,t),r)}function nl(){}function bd(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Za(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Nd(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Za(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ed(t,e,r){return ir&21?(Ye(r,e)||(r=Ac(),K.lanes|=r,or|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function Rp(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=Zi.transition;Zi.transition={};try{t(!1),e()}finally{M=r,Zi.transition=n}}function Cd(){return ze().memoizedState}function Lp(t,e,r){var n=$t(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Td(t))Pd(e,r);else if(r=cd(t,e,r,n),r!==null){var s=ve();Qe(r,t,n,s),Od(r,e,n)}}function $p(t,e,r){var n=$t(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Td(t))Pd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ye(l,o)){var u=e.interleaved;u===null?(s.next=s,Ga(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=cd(t,e,s,n),r!==null&&(s=ve(),Qe(r,t,n,s),Od(r,e,n))}}function Td(t){var e=t.alternate;return t===K||e!==null&&e===K}function Pd(t,e){xn=ei=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Od(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,La(t,r)}}var ti={readContext:Me,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Up={readContext:Me,useCallback:function(t,e){return et().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:uu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,As(4194308,4,jd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return As(4194308,4,t,e)},useInsertionEffect:function(t,e){return As(4,2,t,e)},useMemo:function(t,e){var r=et();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=et();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Lp.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=et();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:nl,useDeferredValue:function(t){return et().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=Rp.bind(null,t[1]),et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,s=et();if(V){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),ae===null)throw Error(j(349));ir&30||md(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,uu(yd.bind(null,n,i,t),[t]),n.flags|=2048,Bn(9,gd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=et(),e=ae.identifierPrefix;if(V){var r=dt,n=ct;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ap++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dp={readContext:Me,useCallback:bd,useContext:Me,useEffect:rl,useImperativeHandle:Sd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Nd,useReducer:eo,useRef:wd,useState:function(){return eo(Fn)},useDebugValue:nl,useDeferredValue:function(t){var e=ze();return Ed(e,re.memoizedState,t)},useTransition:function(){var t=eo(Fn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:pd,useId:Cd,unstable_isNewReconciler:!1},Ip={readContext:Me,useCallback:bd,useContext:Me,useEffect:rl,useImperativeHandle:Sd,useInsertionEffect:_d,useLayoutEffect:kd,useMemo:Nd,useReducer:to,useRef:wd,useState:function(){return to(Fn)},useDebugValue:nl,useDeferredValue:function(t){var e=ze();return re===null?e.memoizedState=t:Ed(e,re.memoizedState,t)},useTransition:function(){var t=to(Fn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:pd,useId:Cd,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=G({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Vo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:G({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wi={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ve(),s=$t(t),i=ht(n,s);i.payload=e,r!=null&&(i.callback=r),e=Rt(t,i,s),e!==null&&(Qe(e,t,s,n),Ps(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ve(),s=$t(t),i=ht(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Rt(t,i,s),e!==null&&(Qe(e,t,s,n),Ps(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ve(),n=$t(t),s=ht(r,n);s.tag=2,e!=null&&(s.callback=e),e=Rt(t,s,n),e!==null&&(Qe(e,t,n,r),Ps(e,t,n))}};function cu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function Ad(t,e,r){var n=!1,s=It,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Ne(e)?nr:pe.current,n=e.contextTypes,i=(n=n!=null)?zr(t,s):It),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function du(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wi.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Qa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Ne(e)?nr:pe.current,s.context=zr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wi.enqueueReplaceState(s,s.state,null),Xs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Hr(t,e){try{var r="",n=e;do r+=hf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ro(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ko(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function Rd(t,e,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ni||(ni=!0,na=n),Ko(t,e)},r}function Ld(t,e,r){r=ht(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ko(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ko(t,e),typeof n!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function hu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Mp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Zp.bind(null,t,e,r),e.then(t,t))}function fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ht(-1,1),e.tag=2,Rt(r,e,1))),r.lanes|=1),t)}var zp=yt.ReactCurrentOwner,je=!1;function ye(t,e,r,n){e.child=t===null?ud(e,null,r,n):Br(e,t.child,r,n)}function mu(t,e,r,n,s){r=r.render;var i=e.ref;return Ur(e,s),n=el(t,e,r,n,i,s),r=tl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(V&&r&&Ba(e),e.flags|=1,ye(t,e,n,s),e.child)}function gu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!dl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$d(t,e,i,n,s)):(t=Us(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return gt(t,e,s)}return e.flags|=1,t=Ut(i,n),t.ref=e.ref,t.return=e,e.child=t}function $d(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,gt(t,e,s)}return Go(t,e,r,n,s)}function Ud(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Or,Ce),Ce|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(Or,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,B(Or,Ce),Ce|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,B(Or,Ce),Ce|=n;return ye(t,e,s,r),e.child}function Dd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Go(t,e,r,n,s){var i=Ne(r)?nr:pe.current;return i=zr(e,i),Ur(e,s),r=el(t,e,r,n,i,s),n=tl(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gt(t,e,s)):(V&&n&&Ba(e),e.flags|=1,ye(t,e,r,s),e.child)}function yu(t,e,r,n,s){if(Ne(r)){var i=!0;Ks(e)}else i=!1;if(Ur(e,s),e.stateNode===null)Rs(t,e),Ad(e,r,n),qo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Me(d):(d=Ne(r)?nr:pe.current,d=zr(e,d));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==d)&&du(e,o,n,d),jt=!1;var f=e.memoizedState;o.state=f,Xs(e,n,o,s),u=e.memoizedState,l!==n||f!==u||be.current||jt?(typeof c=="function"&&(Vo(e,r,c,n),u=e.memoizedState),(l=jt||cu(e,r,l,n,f,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,dd(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:He(e.type,l),o.props=d,h=e.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Me(u):(u=Ne(r)?nr:pe.current,u=zr(e,u));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==u)&&du(e,o,n,u),jt=!1,f=e.memoizedState,o.state=f,Xs(e,n,o,s);var y=e.memoizedState;l!==h||f!==y||be.current||jt?(typeof v=="function"&&(Vo(e,r,v,n),y=e.memoizedState),(d=jt||cu(e,r,d,n,f,y,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Qo(t,e,r,n,i,s)}function Qo(t,e,r,n,s,i){Dd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&ru(e,r,!1),gt(t,e,i);n=e.stateNode,zp.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Br(e,t.child,null,i),e.child=Br(e,null,l,i)):ye(t,e,l,i),e.memoizedState=n.state,s&&ru(e,r,!0),e.child}function Id(t){var e=t.stateNode;e.pendingContext?tu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tu(t,e.context,!1),Ja(t,e.containerInfo)}function vu(t,e,r,n,s){return Fr(),Ha(s),e.flags|=256,ye(t,e,r,n),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,r){var n=e.pendingProps,s=q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(q,s&1),t===null)return Wo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ji(o,n,0,null),t=tr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yo(r),e.memoizedState=Jo,t):sl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fp(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Ut(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=tr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Yo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Jo,n}return i=t.child,t=i.sibling,n=Ut(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sl(t,e){return e=ji({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ys(t,e,r,n){return n!==null&&Ha(n),Br(e,t.child,null,r),t=sl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ro(Error(j(422))),ys(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ji({mode:"visible",children:n.children},s,0,null),i=tr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Br(e,t.child,null,o),e.child.memoizedState=Yo(o),e.memoizedState=Jo,i);if(!(e.mode&1))return ys(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(j(419)),n=ro(i,n,void 0),ys(t,e,o,n)}if(l=(o&t.childLanes)!==0,je||l){if(n=ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(t,s),Qe(n,t,s,-1))}return cl(),n=ro(Error(j(421))),ys(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=em.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=At(s.nextSibling),Pe=e,V=!0,Ke=null,t!==null&&(Le[$e++]=ct,Le[$e++]=dt,Le[$e++]=sr,ct=t.id,dt=t.overflow,sr=e),e=sl(e,n.children),e.flags|=4096,e)}function xu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ho(t.return,e,r)}function no(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function zd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ye(t,e,n.children,r),n=q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xu(t,r,e);else if(t.tag===19)xu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(B(q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Zs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),no(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}no(e,!0,r,null,i);break;case"together":no(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Ut(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ut(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Bp(t,e,r){switch(e.tag){case 3:Id(e),Fr();break;case 5:hd(e);break;case 1:Ne(e.type)&&Ks(e);break;case 4:Ja(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;B(Js,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(B(q,q.current&1),e.flags|=128,null):r&e.child.childLanes?Md(t,e,r):(B(q,q.current&1),t=gt(t,e,r),t!==null?t.sibling:null);B(q,q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(q,q.current),n)break;return null;case 22:case 23:return e.lanes=0,Ud(t,e,r)}return gt(t,e,r)}var Fd,Xo,Bd,Wd;Fd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xo=function(){};Bd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Zt(st.current);var i=null;switch(r){case"input":s=wo(t,s),n=wo(t,n),i=[];break;case"select":s=G({},s,{value:void 0}),n=G({},n,{value:void 0}),i=[];break;case"textarea":s=jo(t,s),n=jo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vs)}bo(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(En.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(En.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&W("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Wd=function(t,e,r,n){r!==n&&(e.flags|=4)};function on(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Wp(t,e,r){var n=e.pendingProps;switch(Wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return Ne(e.type)&&qs(),he(e),null;case 3:return n=e.stateNode,Wr(),H(be),H(pe),Xa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ke!==null&&(oa(Ke),Ke=null))),Xo(t,e),he(e),null;case 5:Ya(e);var s=Zt(Mn.current);if(r=e.type,t!==null&&e.stateNode!=null)Bd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return he(e),null}if(t=Zt(st.current),ms(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[rt]=e,n[Dn]=i,t=(e.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<hn.length;s++)W(hn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":Cl(n,i),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},W("invalid",n);break;case"textarea":Pl(n,i),W("invalid",n)}bo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,l,t),s=["children",""+l]):En.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&W("scroll",n)}switch(r){case"input":os(n),Tl(n,i,!0);break;case"textarea":os(n),Ol(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[rt]=e,t[Dn]=n,Fd(t,e,!1,!1),e.stateNode=t;e:{switch(o=No(r,n),r){case"dialog":W("cancel",t),W("close",t),s=n;break;case"iframe":case"object":case"embed":W("load",t),s=n;break;case"video":case"audio":for(s=0;s<hn.length;s++)W(hn[s],t);s=n;break;case"source":W("error",t),s=n;break;case"img":case"image":case"link":W("error",t),W("load",t),s=n;break;case"details":W("toggle",t),s=n;break;case"input":Cl(t,n),s=wo(t,n),W("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=G({},n,{value:void 0}),W("invalid",t);break;case"textarea":Pl(t,n),s=jo(t,n),W("invalid",t);break;default:s=n}bo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?wc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&vc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Cn(t,u):typeof u=="number"&&Cn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(En.hasOwnProperty(i)?u!=null&&i==="onScroll"&&W("scroll",t):u!=null&&Ca(t,i,u,o))}switch(r){case"input":os(t),Tl(t,n,!1);break;case"textarea":os(t),Ol(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ar(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ar(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)Wd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=Zt(Mn.current),Zt(st.current),ms(e)){if(n=e.stateNode,r=e.memoizedProps,n[rt]=e,(i=n.nodeValue!==r)&&(t=Pe,t!==null))switch(t.tag){case 3:ps(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rt]=e,e.stateNode=n}return he(e),null;case 13:if(H(q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&Te!==null&&e.mode&1&&!(e.flags&128))ad(),Fr(),e.flags|=98560,i=!1;else if(i=ms(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[rt]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Ke!==null&&(oa(Ke),Ke=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?ne===0&&(ne=3):cl())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Wr(),Xo(t,e),t===null&&$n(e.stateNode.containerInfo),he(e),null;case 10:return Ka(e.type._context),he(e),null;case 17:return Ne(e.type)&&qs(),he(e),null;case 19:if(H(q),i=e.memoizedState,i===null)return he(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)on(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,on(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return B(q,q.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Vr&&(e.flags|=128,n=!0,on(i,!1),e.lanes=4194304)}else{if(!n)if(t=Zs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),on(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return he(e),null}else 2*Y()-i.renderingStartTime>Vr&&r!==1073741824&&(e.flags|=128,n=!0,on(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,r=q.current,B(q,n?r&1|2:r&1),e):(he(e),null);case 22:case 23:return ul(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ce&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Hp(t,e){switch(Wa(e),e.tag){case 1:return Ne(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wr(),H(be),H(pe),Xa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ya(e),null;case 13:if(H(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(q),null;case 4:return Wr(),null;case 10:return Ka(e.type._context),null;case 22:case 23:return ul(),null;case 24:return null;default:return null}}var vs=!1,fe=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Pr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function Zo(t,e,r){try{r()}catch(n){Q(t,e,n)}}var wu=!1;function qp(t,e){if(Uo=Bs,t=Gc(),Fa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,d=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++d===s&&(l=o),f===i&&++c===n&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Do={focusedElem:t,selectionRange:r},Bs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:He(e.type,x),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Q(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=wu,wu=!1,y}function wn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(e,r,i)}s=s.next}while(s!==n)}}function _i(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ea(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Hd(t){var e=t.alternate;e!==null&&(t.alternate=null,Hd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[Dn],delete e[zo],delete e[Cp],delete e[Tp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vd(t){return t.tag===5||t.tag===3||t.tag===4}function _u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ta(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vs));else if(n!==4&&(t=t.child,t!==null))for(ta(t,e,r),t=t.sibling;t!==null;)ta(t,e,r),t=t.sibling}function ra(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ra(t,e,r),t=t.sibling;t!==null;)ra(t,e,r),t=t.sibling}var le=null,Ve=!1;function xt(t,e,r){for(r=r.child;r!==null;)qd(t,e,r),r=r.sibling}function qd(t,e,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(fi,r)}catch{}switch(r.tag){case 5:fe||Pr(r,e);case 6:var n=le,s=Ve;le=null,xt(t,e,r),le=n,Ve=s,le!==null&&(Ve?(t=le,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):le.removeChild(r.stateNode));break;case 18:le!==null&&(Ve?(t=le,r=r.stateNode,t.nodeType===8?Ji(t.parentNode,r):t.nodeType===1&&Ji(t,r),An(t)):Ji(le,r.stateNode));break;case 4:n=le,s=Ve,le=r.stateNode.containerInfo,Ve=!0,xt(t,e,r),le=n,Ve=s;break;case 0:case 11:case 14:case 15:if(!fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(r,e,o),s=s.next}while(s!==n)}xt(t,e,r);break;case 1:if(!fe&&(Pr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Q(r,e,l)}xt(t,e,r);break;case 21:xt(t,e,r);break;case 22:r.mode&1?(fe=(n=fe)||r.memoizedState!==null,xt(t,e,r),fe=n):xt(t,e,r);break;default:xt(t,e,r)}}function ku(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Vp),e.forEach(function(n){var s=tm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Be(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,Ve=!1;break e;case 3:le=l.stateNode.containerInfo,Ve=!0;break e;case 4:le=l.stateNode.containerInfo,Ve=!0;break e}l=l.return}if(le===null)throw Error(j(160));qd(i,o,s),le=null,Ve=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Q(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kd(e,t),e=e.sibling}function Kd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Be(e,t),Ze(t),n&4){try{wn(3,t,t.return),_i(3,t)}catch(x){Q(t,t.return,x)}try{wn(5,t,t.return)}catch(x){Q(t,t.return,x)}}break;case 1:Be(e,t),Ze(t),n&512&&r!==null&&Pr(r,r.return);break;case 5:if(Be(e,t),Ze(t),n&512&&r!==null&&Pr(r,r.return),t.flags&32){var s=t.stateNode;try{Cn(s,"")}catch(x){Q(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mc(s,i),No(l,o);var d=No(l,i);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?wc(s,h):c==="dangerouslySetInnerHTML"?vc(s,h):c==="children"?Cn(s,h):Ca(s,c,h,d)}switch(l){case"input":_o(s,i);break;case"textarea":gc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ar(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ar(s,!!i.multiple,i.defaultValue,!0):Ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dn]=i}catch(x){Q(t,t.return,x)}}break;case 6:if(Be(e,t),Ze(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Q(t,t.return,x)}}break;case 3:if(Be(e,t),Ze(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{An(e.containerInfo)}catch(x){Q(t,t.return,x)}break;case 4:Be(e,t),Ze(t);break;case 13:Be(e,t),Ze(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(al=Y())),n&4&&ku(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(fe=(d=fe)||c,Be(e,t),fe=d):Be(e,t),Ze(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!c&&t.mode&1)for(T=t,c=t.child;c!==null;){for(h=T=c;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:wn(4,f,f.return);break;case 1:Pr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Q(n,r,x)}}break;case 5:Pr(f,f.return);break;case 22:if(f.memoizedState!==null){Su(h);continue}}v!==null?(v.return=f,T=v):Su(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=xc("display",o))}catch(x){Q(t,t.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Q(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Be(e,t),Ze(t),n&4&&ku(t);break;case 21:break;default:Be(e,t),Ze(t)}}function Ze(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Vd(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cn(s,""),n.flags&=-33);var i=_u(t);ra(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=_u(t);ta(t,l,o);break;default:throw Error(j(161))}}catch(u){Q(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kp(t,e,r){T=t,Gd(t)}function Gd(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vs;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||fe;l=vs;var d=fe;if(vs=o,(fe=u)&&!d)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?bu(s):u!==null?(u.return=o,T=u):bu(s);for(;i!==null;)T=i,Gd(i),i=i.sibling;T=s,vs=l,fe=d}ju(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):ju(t)}}function ju(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||_i(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!fe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:He(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&au(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}au(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var c=d.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&An(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}fe||e.flags&512&&ea(e)}catch(f){Q(e,e.return,f)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function Su(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function bu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_i(4,e)}catch(u){Q(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){Q(e,s,u)}}var i=e.return;try{ea(e)}catch(u){Q(e,i,u)}break;case 5:var o=e.return;try{ea(e)}catch(u){Q(e,o,u)}}}catch(u){Q(e,e.return,u)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var Gp=Math.ceil,ri=yt.ReactCurrentDispatcher,il=yt.ReactCurrentOwner,De=yt.ReactCurrentBatchConfig,I=0,ae=null,Z=null,ue=0,Ce=0,Or=zt(0),ne=0,Wn=null,or=0,ki=0,ol=0,_n=null,_e=null,al=0,Vr=1/0,at=null,ni=!1,na=null,Lt=null,xs=!1,Ct=null,si=0,kn=0,sa=null,Ls=-1,$s=0;function ve(){return I&6?Y():Ls!==-1?Ls:Ls=Y()}function $t(t){return t.mode&1?I&2&&ue!==0?ue&-ue:Op.transition!==null?($s===0&&($s=Ac()),$s):(t=M,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Qe(t,e,r,n){if(50<kn)throw kn=0,sa=null,Error(j(185));Kn(t,r,n),(!(I&2)||t!==ae)&&(t===ae&&(!(I&2)&&(ki|=r),ne===4&&bt(t,ue)),Ee(t,n),r===1&&I===0&&!(e.mode&1)&&(Vr=Y()+500,vi&&Ft()))}function Ee(t,e){var r=t.callbackNode;Of(t,e);var n=Fs(t,t===ae?ue:0);if(n===0)r!==null&&Ll(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ll(r),e===1)t.tag===0?Pp(Nu.bind(null,t)):sd(Nu.bind(null,t)),Np(function(){!(I&6)&&Ft()}),r=null;else{switch(Rc(n)){case 1:r=Ra;break;case 4:r=Pc;break;case 16:r=zs;break;case 536870912:r=Oc;break;default:r=zs}r=rh(r,Qd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Qd(t,e){if(Ls=-1,$s=0,I&6)throw Error(j(327));var r=t.callbackNode;if(Dr()&&t.callbackNode!==r)return null;var n=Fs(t,t===ae?ue:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ii(t,n);else{e=n;var s=I;I|=2;var i=Yd();(ae!==t||ue!==e)&&(at=null,Vr=Y()+500,er(t,e));do try{Yp();break}catch(l){Jd(t,l)}while(!0);qa(),ri.current=i,I=s,Z!==null?e=0:(ae=null,ue=0,e=ne)}if(e!==0){if(e===2&&(s=Oo(t),s!==0&&(n=s,e=ia(t,s))),e===1)throw r=Wn,er(t,0),bt(t,n),Ee(t,Y()),r;if(e===6)bt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qp(s)&&(e=ii(t,n),e===2&&(i=Oo(t),i!==0&&(n=i,e=ia(t,i))),e===1))throw r=Wn,er(t,0),bt(t,n),Ee(t,Y()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Gt(t,_e,at);break;case 3:if(bt(t,n),(n&130023424)===n&&(e=al+500-Y(),10<e)){if(Fs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mo(Gt.bind(null,t,_e,at),e);break}Gt(t,_e,at);break;case 4:if(bt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ge(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gp(n/1960))-n,10<n){t.timeoutHandle=Mo(Gt.bind(null,t,_e,at),n);break}Gt(t,_e,at);break;case 5:Gt(t,_e,at);break;default:throw Error(j(329))}}}return Ee(t,Y()),t.callbackNode===r?Qd.bind(null,t):null}function ia(t,e){var r=_n;return t.current.memoizedState.isDehydrated&&(er(t,e).flags|=256),t=ii(t,e),t!==2&&(e=_e,_e=r,e!==null&&oa(e)),t}function oa(t){_e===null?_e=t:_e.push.apply(_e,t)}function Qp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bt(t,e){for(e&=~ol,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ge(e),n=1<<r;t[r]=-1,e&=~n}}function Nu(t){if(I&6)throw Error(j(327));Dr();var e=Fs(t,0);if(!(e&1))return Ee(t,Y()),null;var r=ii(t,e);if(t.tag!==0&&r===2){var n=Oo(t);n!==0&&(e=n,r=ia(t,n))}if(r===1)throw r=Wn,er(t,0),bt(t,e),Ee(t,Y()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,_e,at),Ee(t,Y()),null}function ll(t,e){var r=I;I|=1;try{return t(e)}finally{I=r,I===0&&(Vr=Y()+500,vi&&Ft())}}function ar(t){Ct!==null&&Ct.tag===0&&!(I&6)&&Dr();var e=I;I|=1;var r=De.transition,n=M;try{if(De.transition=null,M=1,t)return t()}finally{M=n,De.transition=r,I=e,!(I&6)&&Ft()}}function ul(){Ce=Or.current,H(Or)}function er(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bp(r)),Z!==null)for(r=Z.return;r!==null;){var n=r;switch(Wa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qs();break;case 3:Wr(),H(be),H(pe),Xa();break;case 5:Ya(n);break;case 4:Wr();break;case 13:H(q);break;case 19:H(q);break;case 10:Ka(n.type._context);break;case 22:case 23:ul()}r=r.return}if(ae=t,Z=t=Ut(t.current,null),ue=Ce=e,ne=0,Wn=null,ol=ki=or=0,_e=_n=null,Xt!==null){for(e=0;e<Xt.length;e++)if(r=Xt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xt=null}return t}function Jd(t,e){do{var r=Z;try{if(qa(),Os.current=ti,ei){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ei=!1}if(ir=0,ie=re=K=null,xn=!1,zn=0,il.current=null,r===null||r.return===null){ne=1,Wn=e,Z=null;break}e:{var i=t,o=r.return,l=r,u=e;if(e=ue,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=fu(o);if(v!==null){v.flags&=-257,pu(v,o,l,i,e),v.mode&1&&hu(i,d,e),e=v,u=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(u),e.updateQueue=x}else y.add(u);break e}else{if(!(e&1)){hu(i,d,e),cl();break e}u=Error(j(426))}}else if(V&&l.mode&1){var _=fu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),pu(_,o,l,i,e),Ha(Hr(u,l));break e}}i=u=Hr(u,l),ne!==4&&(ne=2),_n===null?_n=[i]:_n.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Rd(i,u,e);ou(i,m);break e;case 1:l=u;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Lt===null||!Lt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ld(i,l,e);ou(i,w);break e}}i=i.return}while(i!==null)}Zd(r)}catch(b){e=b,Z===r&&r!==null&&(Z=r=r.return);continue}break}while(!0)}function Yd(){var t=ri.current;return ri.current=ti,t===null?ti:t}function cl(){(ne===0||ne===3||ne===2)&&(ne=4),ae===null||!(or&268435455)&&!(ki&268435455)||bt(ae,ue)}function ii(t,e){var r=I;I|=2;var n=Yd();(ae!==t||ue!==e)&&(at=null,er(t,e));do try{Jp();break}catch(s){Jd(t,s)}while(!0);if(qa(),I=r,ri.current=n,Z!==null)throw Error(j(261));return ae=null,ue=0,ne}function Jp(){for(;Z!==null;)Xd(Z)}function Yp(){for(;Z!==null&&!kf();)Xd(Z)}function Xd(t){var e=th(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?Zd(t):Z=e,il.current=null}function Zd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Hp(r,e),r!==null){r.flags&=32767,Z=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,Z=null;return}}else if(r=Wp(r,e,Ce),r!==null){Z=r;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);ne===0&&(ne=5)}function Gt(t,e,r){var n=M,s=De.transition;try{De.transition=null,M=1,Xp(t,e,r,n)}finally{De.transition=s,M=n}return null}function Xp(t,e,r,n){do Dr();while(Ct!==null);if(I&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Af(t,i),t===ae&&(Z=ae=null,ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xs||(xs=!0,rh(zs,function(){return Dr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=M;M=1;var l=I;I|=4,il.current=null,qp(t,r),Kd(r,t),vp(Do),Bs=!!Uo,Do=Uo=null,t.current=r,Kp(r),jf(),I=l,M=o,De.transition=i}else t.current=r;if(xs&&(xs=!1,Ct=t,si=s),i=t.pendingLanes,i===0&&(Lt=null),Nf(r.stateNode),Ee(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=na,na=null,t;return si&1&&t.tag!==0&&Dr(),i=t.pendingLanes,i&1?t===sa?kn++:(kn=0,sa=t):kn=0,Ft(),null}function Dr(){if(Ct!==null){var t=Rc(si),e=De.transition,r=M;try{if(De.transition=null,M=16>t?16:t,Ct===null)var n=!1;else{if(t=Ct,Ct=null,si=0,I&6)throw Error(j(331));var s=I;for(I|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(T=d;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:wn(8,c,i)}var h=c.child;if(h!==null)h.return=c,T=h;else for(;T!==null;){c=T;var f=c.sibling,v=c.return;if(Hd(c),c===d){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_i(9,l)}}catch(b){Q(l,l.return,b)}if(l===o){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(I=s,Ft(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(fi,t)}catch{}n=!0}return n}finally{M=r,De.transition=e}}return!1}function Eu(t,e,r){e=Hr(r,e),e=Rd(t,e,1),t=Rt(t,e,1),e=ve(),t!==null&&(Kn(t,1,e),Ee(t,e))}function Q(t,e,r){if(t.tag===3)Eu(t,t,r);else for(;e!==null;){if(e.tag===3){Eu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lt===null||!Lt.has(n))){t=Hr(r,t),t=Ld(e,t,1),e=Rt(e,t,1),t=ve(),e!==null&&(Kn(e,1,t),Ee(e,t));break}}e=e.return}}function Zp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(ue&r)===r&&(ne===4||ne===3&&(ue&130023424)===ue&&500>Y()-al?er(t,0):ol|=r),Ee(t,e)}function eh(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var r=ve();t=mt(t,e),t!==null&&(Kn(t,e,r),Ee(t,r))}function em(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),eh(t,r)}function tm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),eh(t,r)}var th;th=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,Bp(t,e,r);je=!!(t.flags&131072)}else je=!1,V&&e.flags&1048576&&id(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rs(t,e),t=e.pendingProps;var s=zr(e,pe.current);Ur(e,r),s=el(null,e,n,t,s,r);var i=tl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(n)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qa(e),s.updater=wi,e.stateNode=s,s._reactInternals=e,qo(e,n,t,r),e=Qo(null,e,n,!0,i,r)):(e.tag=0,V&&i&&Ba(e),ye(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=nm(n),t=He(n,t),s){case 0:e=Go(null,e,n,t,r);break e;case 1:e=yu(null,e,n,t,r);break e;case 11:e=mu(null,e,n,t,r);break e;case 14:e=gu(null,e,n,He(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Go(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),yu(t,e,n,s,r);case 3:e:{if(Id(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,dd(t,e),Xs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Hr(Error(j(423)),e),e=vu(t,e,n,r,s);break e}else if(n!==s){s=Hr(Error(j(424)),e),e=vu(t,e,n,r,s);break e}else for(Te=At(e.stateNode.containerInfo.firstChild),Pe=e,V=!0,Ke=null,r=ud(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),n===s){e=gt(t,e,r);break e}ye(t,e,n,r)}e=e.child}return e;case 5:return hd(e),t===null&&Wo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Io(n,s)?o=null:i!==null&&Io(n,i)&&(e.flags|=32),Dd(t,e),ye(t,e,o,r),e.child;case 6:return t===null&&Wo(e),null;case 13:return Md(t,e,r);case 4:return Ja(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Br(e,null,n,r):ye(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),mu(t,e,n,s,r);case 7:return ye(t,e,e.pendingProps,r),e.child;case 8:return ye(t,e,e.pendingProps.children,r),e.child;case 12:return ye(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(Js,n._currentValue),n._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!be.current){e=gt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ht(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var c=d.pending;c===null?u.next=u:(u.next=c.next,c.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ho(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ho(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ye(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ur(e,r),s=Me(s),n=n(s),e.flags|=1,ye(t,e,n,r),e.child;case 14:return n=e.type,s=He(n,e.pendingProps),s=He(n.type,s),gu(t,e,n,s,r);case 15:return $d(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Rs(t,e),e.tag=1,Ne(n)?(t=!0,Ks(e)):t=!1,Ur(e,r),Ad(e,n,s),qo(e,n,s,r),Qo(null,e,n,!0,t,r);case 19:return zd(t,e,r);case 22:return Ud(t,e,r)}throw Error(j(156,e.tag))};function rh(t,e){return Tc(t,e)}function rm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,r,n){return new rm(t,e,r,n)}function dl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nm(t){if(typeof t=="function")return dl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pa)return 11;if(t===Oa)return 14}return 2}function Ut(t,e){var r=t.alternate;return r===null?(r=Ue(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Us(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")dl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _r:return tr(r.children,s,i,e);case Ta:o=8,s|=8;break;case go:return t=Ue(12,r,e,s|2),t.elementType=go,t.lanes=i,t;case yo:return t=Ue(13,r,e,s),t.elementType=yo,t.lanes=i,t;case vo:return t=Ue(19,r,e,s),t.elementType=vo,t.lanes=i,t;case hc:return ji(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cc:o=10;break e;case dc:o=9;break e;case Pa:o=11;break e;case Oa:o=14;break e;case kt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ue(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function tr(t,e,r,n){return t=Ue(7,t,n,e),t.lanes=r,t}function ji(t,e,r,n){return t=Ue(22,t,n,e),t.elementType=hc,t.lanes=r,t.stateNode={isHidden:!1},t}function so(t,e,r){return t=Ue(6,t,null,e),t.lanes=r,t}function io(t,e,r){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hl(t,e,r,n,s,i,o,l,u){return t=new sm(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qa(i),t}function im(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nh(t){if(!t)return It;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Ne(r))return nd(t,r,e)}return e}function sh(t,e,r,n,s,i,o,l,u){return t=hl(r,n,!0,t,s,i,o,l,u),t.context=nh(null),r=t.current,n=ve(),s=$t(r),i=ht(n,s),i.callback=e??null,Rt(r,i,s),t.current.lanes=s,Kn(t,s,n),Ee(t,n),t}function Si(t,e,r,n){var s=e.current,i=ve(),o=$t(s);return r=nh(r),e.context===null?e.context=r:e.pendingContext=r,e=ht(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rt(s,e,o),t!==null&&(Qe(t,s,o,i),Ps(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function fl(t,e){Cu(t,e),(t=t.alternate)&&Cu(t,e)}function om(){return null}var ih=typeof reportError=="function"?reportError:function(t){console.error(t)};function pl(t){this._internalRoot=t}bi.prototype.render=pl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Si(t,e,null,null)};bi.prototype.unmount=pl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ar(function(){Si(null,t,null,null)}),e[pt]=null}};function bi(t){this._internalRoot=t}bi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Uc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<St.length&&e!==0&&e<St[r].priority;r++);St.splice(r,0,t),r===0&&Ic(t)}};function ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ni(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function am(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=oi(o);i.call(d)}}var o=sh(e,n,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[pt]=o.current,$n(t.nodeType===8?t.parentNode:t),ar(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=oi(u);l.call(d)}}var u=hl(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=u,t[pt]=u.current,$n(t.nodeType===8?t.parentNode:t),ar(function(){Si(e,u,r,n)}),u}function Ei(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=oi(o);l.call(u)}}Si(e,o,t,s)}else o=am(r,e,t,s,n);return oi(o)}Lc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dn(e.pendingLanes);r!==0&&(La(e,r|1),Ee(e,Y()),!(I&6)&&(Vr=Y()+500,Ft()))}break;case 13:ar(function(){var n=mt(t,1);if(n!==null){var s=ve();Qe(n,t,1,s)}}),fl(t,1)}};$a=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var r=ve();Qe(e,t,134217728,r)}fl(t,134217728)}};$c=function(t){if(t.tag===13){var e=$t(t),r=mt(t,e);if(r!==null){var n=ve();Qe(r,t,e,n)}fl(t,e)}};Uc=function(){return M};Dc=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};Co=function(t,e,r){switch(e){case"input":if(_o(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=yi(n);if(!s)throw Error(j(90));pc(n),_o(n,s)}}}break;case"textarea":gc(t,r);break;case"select":e=r.value,e!=null&&Ar(t,!!r.multiple,e,!1)}};jc=ll;Sc=ar;var lm={usingClientEntryPoint:!1,Events:[Qn,br,yi,_c,kc,ll]},an={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:an.bundleType,version:an.version,rendererPackageName:an.rendererPackageName,rendererConfig:an.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ec(t),t===null?null:t.stateNode},findFiberByHostInstance:an.findFiberByHostInstance||om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{fi=ws.inject(um),nt=ws}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Ae.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(e))throw Error(j(200));return im(t,e,null,r)};Ae.createRoot=function(t,e){if(!ml(t))throw Error(j(299));var r=!1,n="",s=ih;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hl(t,1,!1,null,null,r,!1,n,s),t[pt]=e.current,$n(t.nodeType===8?t.parentNode:t),new pl(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Ec(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return ar(t)};Ae.hydrate=function(t,e,r){if(!Ni(e))throw Error(j(200));return Ei(null,t,e,!0,r)};Ae.hydrateRoot=function(t,e,r){if(!ml(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ih;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=sh(e,null,t,1,r??null,s,!1,i,o),t[pt]=e.current,$n(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new bi(e)};Ae.render=function(t,e,r){if(!Ni(e))throw Error(j(200));return Ei(null,t,e,!1,r)};Ae.unmountComponentAtNode=function(t){if(!Ni(t))throw Error(j(40));return t._reactRootContainer?(ar(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Ae.unstable_batchedUpdates=ll;Ae.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ni(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ei(t,e,r,!1,n)};Ae.version="18.3.1-next-f1338f8080-20240426";function oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oh)}catch(t){console.error(t)}}oh(),oc.exports=Ae;var cm=oc.exports,ah,Pu=cm;ah=Pu.createRoot,Pu.hydrateRoot;const dm="modulepreload",hm=function(t){return"/"+t},Ou={},Yn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=hm(u),u in Ou)return;Ou[u]=!0;const d=u.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":dm,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class gl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class pm extends gl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Au extends gl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends gl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(aa||(aa={}));var mm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class gm{constructor(e,{headers:r={},customFetch:n,region:s=aa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=fm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return mm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(x=>{throw new pm(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Au(h);if(!h.ok)throw new Ru(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Au?s.context:void 0}}})}}var ke={},yl={},Ci={},Xn={},Ti={},Pi={},ym=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=ym();const vm=qr.fetch,lh=qr.fetch.bind(qr),uh=qr.Headers,xm=qr.Request,wm=qr.Response,Yr=Object.freeze(Object.defineProperty({__proto__:null,Headers:uh,Request:xm,Response:wm,default:lh,fetch:vm},Symbol.toStringTag,{value:"Module"})),_m=Dh(Yr);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});let km=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oi.default=km;var ch=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const jm=ch(_m),Sm=ch(Oi);let bm=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,d;let c=null,h=null,f=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const _=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),m=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");_&&m&&m.length>1&&(f=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(h=[],c=null,v=200,y="OK")}catch{i.status===404&&_===""?(v=204,y="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((d=c==null?void 0:c.details)===null||d===void 0)&&d.includes("0 rows"))&&(c=null,v=200,y="OK"),c&&this.shouldThrowOnError)throw new Sm.default(c)}return{error:c,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Pi.default=bm;var Nm=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const Em=Nm(Pi);let Cm=class extends Em.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ti.default=Cm;var Tm=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xn,"__esModule",{value:!0});const Pm=Tm(Ti);let Om=class extends Pm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Xn.default=Om;var Am=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const ln=Am(Xn);let Rm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ln.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new ln.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ln.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ci.default=Rm;var dh=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yl,"__esModule",{value:!0});const Lm=dh(Ci),$m=dh(Xn);let Um=class hh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Lm.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(l="POST",d=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new $m.default({method:l,url:u,headers:c,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};yl.default=Um;var Xr=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const fh=Xr(yl);ke.PostgrestClient=fh.default;const ph=Xr(Ci);ke.PostgrestQueryBuilder=ph.default;const mh=Xr(Xn);ke.PostgrestFilterBuilder=mh.default;const gh=Xr(Ti);ke.PostgrestTransformBuilder=gh.default;const yh=Xr(Pi);ke.PostgrestBuilder=yh.default;const vh=Xr(Oi);ke.PostgrestError=vh.default;var Dm=ke.default={PostgrestClient:fh.default,PostgrestQueryBuilder:ph.default,PostgrestFilterBuilder:mh.default,PostgrestTransformBuilder:gh.default,PostgrestBuilder:yh.default,PostgrestError:vh.default};const{PostgrestClient:Im,PostgrestQueryBuilder:sy,PostgrestFilterBuilder:iy,PostgrestTransformBuilder:oy,PostgrestBuilder:ay,PostgrestError:ly}=Dm;class Mm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zm="2.15.5",Fm=`realtime-js/${zm}`,Bm="1.0.0",la=1e4,Wm=1e3,Hm=100;var jn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jn||(jn={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qe||(qe={}));var ua;(function(t){t.websocket="websocket"})(ua||(ua={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class Vm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class xh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const Lu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=qm(o,t,e,s),i),{})},qm=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wh(i,o):ca(o)},wh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Jm(e,r)}switch(t){case F.bool:return Km(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Gm(e);case F.json:case F.jsonb:return Qm(e);case F.timestamp:return Ym(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return ca(e);default:return ca(e)}},ca=t=>t,Km=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Qm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wh(e,l))}return t},Ym=t=>typeof t=="string"?t.replace(" ","T"):t,_h=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class oo{constructor(e,r,n={},s=la){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $u;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($u||($u={}));class Sn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Sn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Sn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},u={};return this.map(i,(d,c)=>{o[d]||(u[d]=c)}),this.map(o,(d,c)=>{const h=i[d];if(h){const f=c.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=c.filter(_=>v.indexOf(_.presence_ref)<0),x=h.filter(_=>f.indexOf(_.presence_ref)<0);y.length>0&&(l[d]=y),x.length>0&&(u[d]=x)}else l[d]=c}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var d;const c=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),c.length>0){const h=e[l].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}n(l,c,u)}),this.map(o,(l,u)=>{let d=e[l];if(!d)return;const c=u.map(h=>h.presence_ref);d=d.filter(h=>c.indexOf(h.presence_ref)<0),e[l]=d,s(l,d,u),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Uu||(Uu={}));var bn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bn||(bn={}));var lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class vl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new oo(this,qe.join,this.params,this.timeout),this.rejoinTimer=new xh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Sn(this),this.broadcastEndpointURL=_h(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[bn.PRESENCE]&&this.bindings[bn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(lt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(lt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,m=[];for(let p=0;p<_;p++){const g=x[p],{filter:{event:w,schema:b,table:k,filter:S}}=g,N=v&&v[p];if(N&&N.event===w&&N.schema===b&&N.table===k&&N.filter===S)m.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(lt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ee.errored,e==null||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ee.joined&&e===bn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new oo(this,qe.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hm){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:c}=qe;if(n&&[l,u,d,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,x,_,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:_,commit_timestamp:m,type:p,errors:g}=y;f=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Lu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Lu(e.columns,e.old_record)),r}}const ao=()=>{},_s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xm=[1e3,2e3,5e3,1e4],Zm=1e4,eg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=la,this.transport=null,this.heartbeatIntervalMs=_s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ao,this.ref=0,this.reconnectTimer=null,this.logger=ao,this.conn=null,this.sendBuffer=[],this.serializer=new Vm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Yn(async()=>{const{default:l}=await Promise.resolve().then(()=>Yr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ua.websocket}`,this.httpEndpoint=_h(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bm}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jn.connecting:return Jt.Connecting;case jn.open:return Jt.Open;case jn.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Wm,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([eg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Fm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(qe.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,u,d,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:la,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:_s.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ao,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>Xm[h-1]||Zm,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rg extends xl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class da extends xl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ng=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},sg=()=>ng(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>Yr),void 0)).Response:Response}),ha=t=>{if(Array.isArray(t))return t.map(r=>ha(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ha(n)}),e},ig=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var cr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const lo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),og=(t,e,r)=>cr(void 0,void 0,void 0,function*(){const n=yield sg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new rg(lo(s),i,o))}).catch(s=>{e(new da(lo(s),s))}):e(new da(lo(t),t))}),ag=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(ig(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Zn(t,e,r,n,s,i){return cr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ag(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>og(u,l,n))})})}function ai(t,e,r,n){return cr(this,void 0,void 0,function*(){return Zn(t,"GET",e,r,n)})}function tt(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return Zn(t,"POST",e,n,s,r)})}function fa(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return Zn(t,"PUT",e,n,s,r)})}function lg(t,e,r,n){return cr(this,void 0,void 0,function*(){return Zn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jh(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return Zn(t,"DELETE",e,n,s,r)})}var ge=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Du={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cg{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=kh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Du),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),c=this._getFinalPath(d),h=yield(e=="PUT"?fa:tt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:Du.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const h=yield fa(this.fetch,l.toString(),u,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(te(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new xl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}update(e,r,n){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ge(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ge(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,r){return ge(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}})}info(e){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ha(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}exists(e){return ge(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield lg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n)&&n instanceof da){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}list(e,r,n){return ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ug),r),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,r){return ge(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const dg="2.12.1",hg={"X-Client-Info":`storage-js/${dg}`};var fr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class fg{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},hg),r),this.fetch=kh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fr(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return fr(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fr(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}}class pg extends fg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new cg(this.url,this.headers,e,this.fetch)}}const mg="2.57.4";let fn="";typeof Deno<"u"?fn="deno":typeof document<"u"?fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fn="react-native":fn="node";const gg={"X-Client-Info":`supabase-js-${fn}/${mg}`},yg={headers:gg},vg={schema:"public"},xg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wg={};var _g=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const kg=t=>{let e;return t?e=t:typeof fetch>"u"?e=lh:e=fetch,(...r)=>e(...r)},jg=()=>typeof Headers>"u"?uh:Headers,Sg=(t,e,r)=>{const n=kg(r),s=jg();return(i,o)=>_g(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var bg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};function Ng(t){return t.endsWith("/")?t:t+"/"}function Eg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:d,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Cg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sh="2.71.1",vr=30*1e3,pa=3,uo=pa*vr,Tg="http://localhost:9999",Pg="supabase.auth.token",Og={"X-Client-Info":`gotrue-js/${Sh}`},ma="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ag=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rg=10*60*1e3;class wl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Lg extends wl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $g(t){return O(t)&&t.name==="AuthApiError"}class Nh extends wl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bt extends wl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class _t extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ug(t){return O(t)&&t.name==="AuthSessionMissingError"}class ks extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class js extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends Bt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dg(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iu extends Bt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ga extends Bt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function co(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Mu extends Bt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ya extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),Ig=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Fu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function Eh(t,e,r){const n=Ig[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Fg(o,n,r)};for(let o=0;o<t.length;o+=1)Eh(t.charCodeAt(o),s,i);return e.join("")}function Mg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function zg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Mg(n,e)}}function Fg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Bg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Eh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Wg(t){const e=[];return zg(t,r=>e.push(r)),new Uint8Array(e)}function Hg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Fu(s,r,n)),Fu(null,r,n),e.join("")}function Vg(t){return Math.round(Date.now()/1e3)+t}function qg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const We=()=>typeof window<"u"&&typeof document<"u",Vt={tested:!1,writable:!1},Ch=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vt.tested)return Vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vt.tested=!0,Vt.writable=!0}catch{Vt.tested=!0,Vt.writable=!1}return Vt.writable};function Kg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Th=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Yn(async()=>{const{default:n}=await Promise.resolve().then(()=>Yr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Gg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},qt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ai.promiseConstructor=Promise;function ho(t){const e=t.split(".");if(e.length!==3)throw new ya("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ag.test(e[n]))throw new ya("JWT not in base64url format");return{header:JSON.parse(Bu(e[0])),payload:JSON.parse(Bu(e[1])),signature:Bg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Jg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Yg(t){return("0"+t.toString(16)).substr(-2)}function Xg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Yg).join("")}async function Zg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function e0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Zg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(t,e,r=!1){const n=Xg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xr(t,`${e}-code-verifier`,s);const i=await e0(n);return[i,n===i?"plain":"s256"]}const t0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r0(t){const e=t.headers.get(ma);if(!e||!e.match(t0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function n0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function s0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mr(t){if(!i0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wu(t){return JSON.parse(JSON.stringify(t))}var o0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a0=[502,503,504];async function Hu(t){var e;if(!Gg(t))throw new ga(Qt(t),0);if(a0.includes(t.status))throw new ga(Qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Nh(Qt(i),i)}let n;const s=r0(t);if(s&&s.getTime()>=bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mu(Qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mu(Qt(r),t.status,r.weak_password.reasons);throw new Lg(Qt(r),t.status||500,n)}const l0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ma]||(i[ma]=bh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await u0(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function u0(t,e,r,n,s,i){const o=l0(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new ga(Qt(u),0)}if(l.ok||await Hu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Hu(u)}}function ot(t){var e;let r=null;f0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Vg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Vu(t){const e=ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function c0(t){return{data:t,error:null}}function d0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=o0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function h0(t){return t}function f0(t){return t.access_token&&t.refresh_token&&t.expires_in}const po=["global","local","others"];var p0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class m0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Th(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=po[0]){if(po.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=p0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:d0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(O(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:h0});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);d[`${_}Page`]=x}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(O(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){mr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){mr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){mr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){mr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteFactor(e){mr(e.userId),mr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}}function qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function g0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gr={debug:!!(globalThis&&Ch()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ph extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class y0 extends Ph{}async function v0(t,e,r){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}g0();const x0={url:Tg,storageKey:Pg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Og,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ku(t,e,r){return await r()}const yr={};class Hn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hn.nextInstanceID,Hn.nextInstanceID+=1,this.instanceID>0&&We()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},x0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new m0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Th(s.fetch),this.lock=s.lock||Ku,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:We()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=v0:this.lock=Ku,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ch()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qu(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=yr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=yr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Kg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dg(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?{error:r}:{error:new Nh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await pr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:ot})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ot})}else throw new js("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vu})}else throw new js("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ks}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,u,d,c,h,f,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:_,wallet:m,statement:p,options:g}=e;let w;if(We())if(typeof m=="object")w=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:_,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hg(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ot});if(m)throw m;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ks}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:m})}catch(_){if(O(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await qt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ot});if(await wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ot}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ks}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await pr(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new js("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:c0})}catch(i){if(O(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _t;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new js("You must provide either an email or phone number and a type")}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<uo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await qt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=fo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,c)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(r){if(O(r))return Ug(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await pr(this.storage,this.storageKey));const{data:d,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Nt});if(c)throw c;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ho(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(O(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(O(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new Ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iu("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=e;if(!i||!l||!o||!d)throw new Ss("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let f=c+h;u&&(f=parseInt(u));const v=f-c;v*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(O(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!($g(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=qg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await pr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(O(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,d,c;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(O(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jg(async s=>(s>0&&await Qg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&co(i)&&Date.now()+o-n<vr})}catch(n){if(this._debug(r,"error",n),O(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await qt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await xr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:fo()}else if(s&&!s.user&&!s.user){const o=await qt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await wt(this.storage,this.storageKey+"-user"),await xr(this.storage,this.storageKey,s)):s.user=fo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),co(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const o={session:null,error:i};return co(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Wu(s);await xr(this.storage,this.storageKey,i)}else{const s=Wu(r);await xr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vr}ms, refresh threshold is ${pa} ticks`),s<=pa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ph)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(O(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ho(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Rg>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=ho(n);r!=null&&r.allowExpired||n0(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=s0(s.alg),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Wg(`${l}.${u}`)))throw new ya("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}Hn.nextInstanceID=0;const w0=Hn;class _0 extends w0{constructor(e){super(e)}}var k0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class j0{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Cg(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:vg,realtime:wg,auth:Object.assign(Object.assign({},xg),{storageKey:u}),global:yg},c=Eg(n??{},d);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Sg(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Im(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new pg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new gm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return k0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S0=(t,e,r)=>new j0(t,e,r);function b0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}b0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");class N0{constructor(){this.sessionToken=null,this.checkInterval=null,this.STORAGE_KEY="user_session_token",this.CHECK_INTERVAL=5e3,this.sessionToken=localStorage.getItem(this.STORAGE_KEY)}async createSession(){try{const{data:{session:e}}=await rr.auth.getSession();if(!e)throw new Error("No active auth session");const r=await fetch("https://ngezhsysmysdcdxvnliq.supabase.co/functions/v1/manage-session",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"create"})});if(!r.ok)throw new Error("Failed to create session");const n=await r.json();return this.sessionToken=n.sessionToken,localStorage.setItem(this.STORAGE_KEY,this.sessionToken),this.startSessionValidation(),this.sessionToken}catch(e){throw console.error("Failed to create session:",e),e}}async validateSession(){if(!this.sessionToken)return!1;try{const{data:{session:e}}=await rr.auth.getSession();if(!e)return console.log("No Supabase session found"),!1;const r=await fetch("https://ngezhsysmysdcdxvnliq.supabase.co/functions/v1/manage-session",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"validate",sessionToken:this.sessionToken})});if(!r.ok)return console.log("Session validation failed, clearing session"),!1;const n=await r.json();return n.valid?!0:(console.log("Session marked as invalid, clearing session"),n.error&&n.error.includes("inactive")&&await rr.auth.signOut(),!1)}catch(e){return console.error("Session validation failed:",e),!1}}startSessionValidation(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=window.setInterval(async()=>{await this.validateSession()||(this.clearSession(),window.location.reload())},this.CHECK_INTERVAL)}clearSession(){this.sessionToken=null,localStorage.removeItem(this.STORAGE_KEY),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}getSessionToken(){return this.sessionToken}}const va=new N0,E0="https://ngezhsysmysdcdxvnliq.supabase.co",C0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5nZXpoc3lzbXlzZGNkeHZubGlxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNzExNDYsImV4cCI6MjA3NDY0NzE0Nn0.4BchpJDvh1csiHBefWL_k8dSMLWjtT4bf892HTbha1A",rr=S0(E0,C0),oe=()=>{if(!rr)throw new Error('Supabase is not configured. Please click the "Supabase" button in settings to configure your database connection.');return rr},es={async signUp(t,e,r="user",n){const s=oe();console.log("authService.signUp called with:",{email:t,role:r}),console.log("Starting Supabase auth.signUp...");const{data:i,error:o}=await s.auth.signUp({email:t,password:e});if(console.log("Supabase signUp response:",{user:!!i.user,error:o==null?void 0:o.message}),o)throw console.error("Supabase auth error:",o),o;if(i.user){console.log("Creating user profile for:",i.user.id);let l=null;if(n&&r!=="admin"){const d=new Date;n==="trial"?d.setHours(d.getHours()+1):d.setMonth(d.getMonth()+n),l=d.toISOString()}const{error:u}=await s.from("user_profiles").insert({id:i.user.id,email:i.user.email,role:r,expires_at:l});if(console.log("Profile creation result:",{error:u==null?void 0:u.message}),u)throw console.error("Profile creation error:",u),u}return console.log("User creation completed successfully"),i},async signIn(t,e){const r=oe();console.log("authService.signIn called with email:",t);const{data:n,error:s}=await r.auth.signInWithPassword({email:t,password:e});if(s)throw s;if(!n.user)throw new Error("Sign in failed");if(console.log("Supabase auth response:",{data:!!n.user,error:s==null?void 0:s.message}),n.user){console.log("Updating last login for user:",n.user.id),await r.from("user_profiles").update({last_login:new Date().toISOString()}).eq("id",n.user.id);try{await va.createSession(),console.log("Session created successfully")}catch(i){throw console.error("Failed to create session:",i),await r.auth.signOut(),new Error("Failed to create session. Please try again.")}}return console.log("Sign in completed successfully"),n},async signOut(){const t=oe();va.clearSession();const{error:e}=await t.auth.signOut();if(e)throw e},async getCurrentUser(){const t=oe(),{data:{user:e}}=await t.auth.getUser();if(!e)return null;const{data:r}=await t.from("user_profiles").select("*").eq("id",e.id).limit(1),n=r&&r.length>0?r[0]:null;if(!n&&e.email){console.log("Profile not found, creating default profile for user:",e.id);const s=e.email==="admin@example.com"?"admin":"user",{data:i,error:o}=await t.from("user_profiles").insert({id:e.id,email:e.email,role:s}).select().limit(1);if(o)return console.error("Failed to create user profile:",o),null;const l=i&&i.length>0?i[0]:null;return console.log("Created new profile:",l),l}if(n&&e.email==="admin@example.com"&&n.role!=="admin"){console.log("Updating admin user role...");const{data:s,error:i}=await t.from("user_profiles").update({role:"admin"}).eq("id",e.id).select().limit(1);return i?(console.error("Failed to update admin role:",i),n):(s&&s.length>0?s[0]:null)||n}if(n&&n.role!=="admin"&&n.expires_at&&new Date(n.expires_at)<new Date)throw console.log("User account has expired, signing out..."),await t.auth.signOut(),new Error("Your account has expired. Please contact your administrator to renew access.");return n}},Se={async createDomain(t,e,r,n){const s=oe(),{data:i,error:o}=await s.from("domains").insert({original_domain:t,masked_name:e,created_by:r,image_url:n==null?void 0:n.image_url,image_alt:n==null?void 0:n.image_alt}).select().single();if(o)throw o;return i},async uploadDomainImage(t,e){const r=oe(),n=t.name.split(".").pop(),i=`domains/${`${e}-${Date.now()}.${n}`}`,{data:o,error:l}=await r.storage.from("domain-images").upload(i,t,{cacheControl:"3600",upsert:!1});if(l)throw l;const{data:{publicUrl:u}}=r.storage.from("domain-images").getPublicUrl(i);return u},async deleteDomainImage(t){const e=oe(),n=t.split("/").slice(-2).join("/"),{error:s}=await e.storage.from("domain-images").remove([n]);if(s)throw s},async updateDomainImage(t,e,r){const n=oe(),{data:s,error:i}=await n.from("domains").update({image_url:e,image_alt:r}).eq("id",t).select().single();if(i)throw i;return s},async getAllDomains(){const t=oe(),{data:e,error:r}=await t.from("domains").select("*").order("created_at",{ascending:!1});if(r)throw r;return e},async assignDomainToUser(t,e){const r=oe(),{data:n,error:s}=await r.from("user_domains").insert({user_id:t,domain_id:e}).select().single();if(s)throw s;return n},async removeDomainFromUser(t,e){const r=oe(),{error:n}=await r.from("user_domains").delete().eq("user_id",t).eq("domain_id",e);if(n)throw n},async getUserDomains(t){const e=oe(),{data:r,error:n}=await e.from("user_domains").select(`
        *,
        domain:domains(*)
      `).eq("user_id",t).order("assigned_at",{ascending:!1});if(n)throw n;return r}},Ir={async getAllUsers(){const t=oe();console.log("Getting all users...");const{data:e,error:r}=await t.from("user_profiles").select("*").order("created_at",{ascending:!1});if(console.log("getAllUsers result:",{data:e==null?void 0:e.length,error:r==null?void 0:r.message}),r)throw r;return e},async getUserWithDomains(t){const e=oe(),{data:r,error:n}=await e.from("user_profiles").select("*").eq("id",t).single();if(n)throw n;const s=await Se.getUserDomains(t);return{...r,domains:s}},async updateUser(t,e){const r=oe(),{data:n,error:s}=await r.from("user_profiles").update(e).eq("id",t).select().limit(1);if(s)throw s;if(!n||n.length===0){const{data:i,error:o}=await r.from("user_profiles").select("*").eq("id",t).limit(1);if(o)throw o;if(!i||i.length===0)throw new Error("User not found");return i[0]}return n[0]},async deleteUser(t){const e=oe();console.log("Deleting user via Edge Function:",t);const{data:{session:r}}=await e.auth.getSession();if(!r)throw new Error("Not authenticated");const n=await fetch("https://ngezhsysmysdcdxvnliq.supabase.co/functions/v1/delete-user",{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({userId:t})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to delete user")}const s=await n.json();console.log("User deletion result:",s)},async blockUser(t){const e=oe();console.log("Blocking user:",t);const{data:{user:r}}=await e.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await e.from("user_profiles").update({is_blocked:!0}).eq("id",t).select();if(console.log("Block user response:",{data:n,error:s,userId:t}),s)throw console.error("Block user error details:",s),new Error(`Failed to block user: ${s.message}`);if(!n||n.length===0)throw new Error("User not found");return console.log("User blocked successfully"),n[0]},async unblockUser(t){const e=oe();console.log("Unblocking user:",t);const{data:{user:r}}=await e.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await e.from("user_profiles").update({is_blocked:!1}).eq("id",t).select();if(console.log("Unblock user response:",{data:n,error:s,userId:t}),s)throw console.error("Unblock user error details:",s),new Error(`Failed to unblock user: ${s.message}`);if(!n||n.length===0)throw new Error("User not found");return console.log("User unblocked successfully"),n[0]}};function T0(t){const[e,r]=E.useState({user:null,loading:!0,error:null});E.useEffect(()=>{console.log("useAuth effect triggered, refreshKey:",t),n();const{data:{subscription:s}}=rr.auth.onAuthStateChange((i,o)=>{console.log("Auth state changed:",i,!!o),i==="SIGNED_OUT"?(r({user:null,loading:!1,error:null}),va.clearSession()):i==="SIGNED_IN"&&o&&n()});return()=>{s.unsubscribe()}},[t]);const n=async()=>{try{console.log("checkUser: Starting user check..."),r(i=>({...i,loading:!0,error:null}));const s=await es.getCurrentUser();console.log("checkUser: Got user from authService:",s),r(i=>({...i,user:s,loading:!1})),console.log("checkUser: Updated state with user:",s)}catch(s){console.error("checkUser: Error occurred:",s),r(i=>({...i,error:s instanceof Error?s.message:"Authentication error",loading:!1}))}};return console.log("useAuth returning state:",e),e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,e)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},c)=>E.createElement("svg",{ref:c,...P0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${O0(t)}`,l].join(" "),...d},[...e.map(([h,f])=>E.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function F0({onLoginSuccess:t}){const[e,r]=E.useState(""),[n,s]=E.useState(""),[i,o]=E.useState(!1),[l,u]=E.useState(null),d=async c=>{c.preventDefault(),console.log("Login attempt started for:",e),o(!0),u(null);try{console.log("Calling authService.signIn..."),await es.signIn(e,n),console.log("Sign in successful, calling onLoginSuccess..."),t()}catch(h){console.error("Login error:",h),h instanceof Error&&h.message.includes("Email not confirmed")?u("Please check your email and click the confirmation link before signing in."):h instanceof Error&&h.message.includes("active session")?u(h.message):u(h instanceof Error?h.message:"Login failed")}finally{console.log("Login attempt finished"),o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:a.jsx("img",{src:"/Screenshot 2025-09-29 084820.png",alt:"KaizenLib Logo",className:"h-24 w-auto"})}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),l&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(ts,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-700 text-sm",children:l})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:e,onChange:c=>r(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(_l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"password",value:n,onChange:c=>s(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your password",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:i?"Signing in...":"Sign In"})]})]})})})}function B0({onClose:t,onUserCreated:e}){const[r,n]=E.useState(""),[s,i]=E.useState(""),[o,l]=E.useState("user"),[u,d]=E.useState("months"),[c,h]=E.useState(3),[f,v]=E.useState(!1),[y,x]=E.useState(null),_=async m=>{m.preventDefault(),v(!0),x(null);try{console.log("Creating user with email:",r,"role:",o),console.log("About to call authService.signUp...");const p=u==="trial"?"trial":c;await es.signUp(r,s,o,p),console.log("User created successfully"),e()}catch(p){console.error("User creation error:",p),console.error("Error details:",{message:p instanceof Error?p.message:"Unknown error",name:p instanceof Error?p.name:"Unknown",stack:p instanceof Error?p.stack:"No stack trace"}),p instanceof Error?p.message.includes("50 seconds")||p.message.includes("rate_limit")?x("Rate limit reached. Please wait 50 seconds before creating another user."):p.message.includes("User already registered")?x("A user with this email already exists."):p.message.includes("invalid")||p.message.includes("Invalid")?x(`Email validation error: ${p.message}`):x(`Failed to create user: ${p.message}`):x("Failed to create user: Unknown error occurred")}finally{v(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New User"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[y&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(ts,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-700 text-sm",children:y})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Rh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@domain.com",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"Please enter a valid email address"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use a valid email format (e.g., user@domain.com)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(_l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"password",value:s,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0,minLength:6})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Role"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"user",checked:o==="user",onChange:m=>l(m.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Regular User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Can access assigned domains"})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"admin",checked:o==="admin",onChange:m=>l(m.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Administrator"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Can manage users and domains"})]})]})]})]}),o==="user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"trial",checked:u==="trial",onChange:m=>d(m.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1-Hour Trial"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Perfect for testing and demos"})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"months",checked:u==="months",onChange:m=>d(m.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Monthly Subscription"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Choose duration below"})]})]})]}),u==="months"&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,3,6,12].map(m=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:m,checked:c===m,onChange:p=>h(Number(p.target.value)),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[m," month",m>1?"s":""]})]},m))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:u==="trial"?"Account will expire after 1 hour":`Account will expire after ${c} month${c>1?"s":""}`})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:f?"Creating...":"Create User"})]})]})]})})}function W0({user:t,userDomains:e,availableDomains:r,onClose:n,onDomainsUpdated:s}){const[i,o]=E.useState({}),[l,u]=E.useState(e),d=l.map(y=>y.domain_id),c=r.filter(y=>!d.includes(y.id)),h=async y=>{o(x=>({...x,[`assign-${y}`]:!0}));try{const x=await Se.assignDomainToUser(t.id,y),_=r.find(m=>m.id===y);x&&_&&u(m=>[...m,{...x,domain:_}])}catch(x){console.error("Failed to assign domain:",x)}finally{o(x=>({...x,[`assign-${y}`]:!1}))}},f=async y=>{o(x=>({...x,[`remove-${y}`]:!0}));try{await Se.removeDomainFromUser(t.id,y),u(x=>x.filter(_=>_.domain_id!==y))}catch(x){console.error("Failed to remove domain:",x)}finally{o(x=>({...x,[`remove-${y}`]:!1}))}},v=()=>{s()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Domain Access"}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Configure domain access for ",t.email]})]}),a.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Assigned Domains (",l.length,")"]}),l.length>0?a.jsx("div",{className:"space-y-3",children:l.map(y=>{var x;return a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:a.jsx(Oh,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:(x=y.domain)==null?void 0:x.masked_name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Assigned on ",new Date(y.assigned_at).toLocaleDateString()]})]})]}),a.jsxs("button",{onClick:()=>f(y.domain_id),disabled:i[`remove-${y.domain_id}`],className:"flex items-center space-x-1 px-3 py-1 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Kr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:i[`remove-${y.domain_id}`]?"Removing...":"Remove"})]})]},y.id)})}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No domains assigned to this user"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Available Domains (",c.length,")"]}),c.length>0?a.jsx("div",{className:"space-y-3",children:c.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-gray-200 p-2 rounded-lg",children:a.jsx(Je,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:y.masked_name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Created on ",new Date(y.created_at).toLocaleDateString()]})]})]}),a.jsxs("button",{onClick:()=>h(y.id),disabled:i[`assign-${y.id}`],className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:i[`assign-${y.id}`]?"Assigning...":"Assign"})]})]},y.id))}):a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[a.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"All domains are already assigned to this user"})]})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200",children:a.jsx("button",{onClick:v,className:"w-full px-4 py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors",children:"Done"})})]})})}function H0({user:t,onClose:e,onUserUpdated:r}){const[n,s]=E.useState(t.role),[i,o]=E.useState("months"),[l,u]=E.useState(3),[d,c]=E.useState(!1),[h,f]=E.useState(null),v=async _=>{_.preventDefault(),c(!0),f(null);try{let m=null;if(n==="user"){const p=new Date;i==="trial"?p.setHours(p.getHours()+1):p.setMonth(p.getMonth()+l),m=p.toISOString()}else n==="admin"&&(m=null);await Ir.updateUser(t.id,{role:n,expires_at:m}),r()}catch(m){console.error("User update error:",m),f(m instanceof Error?m.message:"Failed to update user")}finally{c(!1)}},y=t.expires_at&&new Date(t.expires_at)<new Date,x=t.expires_at?new Date(t.expires_at):null;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit User"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[h&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(ts,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-700 text-sm",children:h})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:a.jsx(_a,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:t.email}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",new Date(t.created_at).toLocaleDateString()]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Role"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"user",checked:n==="user",onChange:_=>s(_.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Regular User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Can access assigned domains"})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"admin",checked:n==="admin",onChange:_=>s(_.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Administrator"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Can manage users and domains"})]})]})]})]}),n==="user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"trial",checked:i==="trial",onChange:_=>o(_.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1-Hour Trial"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Perfect for testing and demos"})]})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:"months",checked:i==="months",onChange:_=>o(_.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Monthly Subscription"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Choose duration below"})]})]})]}),i==="months"&&a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[1,3,6,12].map(_=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",value:_,checked:l===_,onChange:m=>u(Number(m.target.value)),className:"text-blue-600 focus:ring-blue-500"}),a.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[_," month",_>1?"s":""]})]},_))})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i==="trial"?"New expiration will be 1 hour from now":`New expiration date will be ${l} month${l>1?"s":""} from today`})]}),(t.expires_at||y)&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(ci,{className:"w-4 h-4 mr-2"}),"Current Status"]}),x&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Current expiration:"}),a.jsxs("span",{className:`ml-2 font-medium ${y?"text-red-600":"text-gray-900"}`,children:[x.toLocaleDateString(),y&&" (Expired)"]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:d?"Updating...":"Update User"})]})]})]})})}function V0({users:t,domains:e,onUserCreated:r,onUserUpdated:n}){const[s,i]=E.useState(!1),[o,l]=E.useState(""),[u,d]=E.useState(null),[c,h]=E.useState(!1),[f,v]=E.useState(!1),[y,x]=E.useState(null),[_,m]=E.useState(null),[p,g]=E.useState(null),[w,b]=E.useState([]),k=t.filter(C=>C.email.toLowerCase().includes(o.toLowerCase())||C.role.toLowerCase().includes(o.toLowerCase())),S=async C=>{try{const X=await Se.getUserDomains(C.id);b(X||[]),d(C),h(!0)}catch(X){console.error("Failed to load user domains:",X)}},N=C=>{d(C),v(!0)},L=async C=>{console.log("Starting user deletion for:",C),m(C);try{await Ir.deleteUser(C),console.log("User deletion successful, refreshing list..."),x(null),n(),console.log("User list refresh completed")}catch(X){console.error("Failed to delete user:",X),alert("Failed to delete user. Please try again.")}finally{m(null)}},R=async C=>{console.log("handleBlockUser called for:",C),g(C);try{console.log("Calling userService.blockUser..."),await Ir.blockUser(C),console.log("Block user successful, calling onUserUpdated..."),n()}catch(X){console.error("Failed to block user:",X),alert(`Failed to block user: ${X instanceof Error?X.message:"Unknown error"}`)}finally{g(null)}},me=async C=>{console.log("handleUnblockUser called for:",C),g(C);try{console.log("Calling userService.unblockUser..."),await Ir.unblockUser(C),console.log("Unblock user successful, calling onUserUpdated..."),n()}catch(X){console.error("Failed to unblock user:",X),alert(`Failed to unblock user: ${X instanceof Error?X.message:"Unknown error"}`)}finally{g(null)}},Xe=C=>C.expires_at?new Date(C.expires_at)<new Date:!1,it=C=>{if(!C.expires_at)return null;const X=new Date(C.expires_at),vt=new Date,Fe=Math.ceil((X.getTime()-vt.getTime())/(1e3*60*60*24));return Fe<0?{status:"expired",text:"Expired",color:"red"}:Fe<=7?{status:"expiring",text:`${Fe} days left`,color:"yellow"}:{status:"active",text:`${Fe} days left`,color:"green"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Create and manage user accounts and their domain access",o&&a.jsxs("span",{className:"ml-2 text-blue-600",children:["• Showing ",k.length," of ",t.length," users"]})]})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create User"})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Search users by email or role..."}),o&&a.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(C=>{var X,vt,Fe;return a.jsxs("div",{className:`bg-white rounded-xl border p-6 hover:shadow-lg transition-shadow ${C.is_blocked?"border-orange-200 bg-orange-50":Xe(C)?"border-red-200 bg-red-50":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${C.role==="admin"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:C.role==="admin"?a.jsx(I0,{className:"w-5 h-5"}):a.jsx(_a,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:C.email}),a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${C.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:C.role})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[C.is_blocked&&a.jsx("div",{className:"bg-orange-100 p-1 rounded-lg",children:a.jsx(Nn,{className:"w-4 h-4 text-orange-600"})}),Xe(C)&&!C.is_blocked&&a.jsx("div",{className:"bg-red-100 p-1 rounded-lg",children:a.jsx(xa,{className:"w-4 h-4 text-red-600"})}),a.jsx("div",{className:"bg-red-100 p-1 rounded-lg",children:a.jsx("button",{onClick:()=>x(C.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete user",children:a.jsx(Kr,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Created:"}),a.jsx("span",{className:"text-gray-900",children:new Date(C.created_at).toLocaleDateString()})]}),C.last_login&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Last login:"}),a.jsx("span",{className:"text-gray-900",children:new Date(C.last_login).toLocaleDateString()})]}),C.expires_at&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Expires:"}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ui,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:`font-medium ${((X=it(C))==null?void 0:X.color)==="red"?"text-red-600":((vt=it(C))==null?void 0:vt.color)==="yellow"?"text-yellow-600":"text-green-600"}`,children:(Fe=it(C))==null?void 0:Fe.text})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>N(C),className:"w-full flex items-center justify-center space-x-2 bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-2 rounded-lg transition-colors",children:[a.jsx(A0,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit User"})]}),C.is_blocked?a.jsxs("button",{onClick:()=>me(C.id),disabled:p===C.id,className:"w-full flex items-center justify-center space-x-2 bg-green-50 hover:bg-green-100 text-green-700 px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Oh,{className:"w-4 h-4"}),a.jsx("span",{children:p===C.id?"Unblocking...":"Unblock User"})]}):a.jsxs("button",{onClick:()=>R(C.id),disabled:p===C.id,className:"w-full flex items-center justify-center space-x-2 bg-orange-50 hover:bg-orange-100 text-orange-700 px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[a.jsx(Nn,{className:"w-4 h-4"}),a.jsx("span",{children:p===C.id?"Blocking...":"Block User"})]}),C.role!=="admin"&&!Xe(C)&&a.jsxs("button",{onClick:()=>S(C),className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg transition-colors ${C.is_blocked?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,disabled:C.is_blocked,children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:C.is_blocked?"Domains (Blocked)":"Manage Domains"})]})]}),C.is_blocked&&a.jsxs("div",{className:"mt-4 w-full flex items-center justify-center space-x-2 bg-orange-100 text-orange-700 px-4 py-2 rounded-lg",children:[a.jsx(Nn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Account Blocked"})]}),!C.is_blocked&&Xe(C)&&a.jsxs("div",{className:"mt-4 w-full flex items-center justify-center space-x-2 bg-red-100 text-red-700 px-4 py-2 rounded-lg",children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Account Expired"})]})]},C.id)})}),t.length===0?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[a.jsx(_a,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first user to get started"}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors mx-auto",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create User"})]})]}):k.length===0&&o?a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[a.jsx(di,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:['No users match your search for "',o,'"']}),a.jsx("button",{onClick:()=>l(""),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear search"})]}):null,y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:a.jsx(Kr,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),a.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),a.jsx("p",{className:"text-gray-700 mb-6",children:"Are you sure you want to delete this user? This will permanently remove their account, domain assignments, and all associated data."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>L(y),disabled:_===y,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg transition-colors",children:_===y?"Deleting...":"Delete User"})]})]})})}),s&&a.jsx(B0,{onClose:()=>i(!1),onUserCreated:()=>{i(!1),r()}}),c&&u&&a.jsx(W0,{user:u,userDomains:w,availableDomains:e,onClose:()=>h(!1),onDomainsUpdated:()=>{h(!1),n()}}),f&&u&&a.jsx(H0,{user:u,onClose:()=>v(!1),onUserUpdated:()=>{v(!1),n()}})]})}function q0({currentUser:t,onClose:e,onDomainCreated:r}){const[n,s]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(null),[d,c]=E.useState(""),[h,f]=E.useState(""),[v,y]=E.useState(!1),[x,_]=E.useState(!1),[m,p]=E.useState(null),g=k=>{var N;const S=(N=k.target.files)==null?void 0:N[0];if(S){if(!S.type.startsWith("image/")){p("Please select an image file");return}if(S.size>5*1024*1024){p("Image must be smaller than 5MB");return}u(S),p(null);const L=URL.createObjectURL(S);c(L)}},w=()=>{u(null),d&&(URL.revokeObjectURL(d),c(""))},b=async k=>{k.preventDefault(),y(!0),p(null);try{const S=await Se.createDomain(n,i,t.id);if(l){_(!0);const N=await Se.uploadDomainImage(l,S.id);await Se.updateDomainImage(S.id,N,h||null)}r()}catch(S){p(S instanceof Error?S.message:"Failed to create domain")}finally{y(!1),_(!1)}};return sc.useEffect(()=>()=>{d&&URL.revokeObjectURL(d)},[d]),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Domain"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[m&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(ts,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-700 text-sm",children:m})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Domain"}),a.jsxs("div",{className:"relative",children:[a.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"url",value:n,onChange:k=>s(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://example.com",required:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The actual domain URL that will be hidden from users"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Masked Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(L0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Client Portal",required:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The friendly name users will see instead of the actual domain"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Domain Image (Optional)"}),l?a.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:d,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(l.size/1024/1024).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",onClick:w,className:"text-red-500 hover:text-red-700 transition-colors",children:a.jsx(Kr,{className:"w-4 h-4"})})]})}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a.jsx(Lh,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload an image"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})]})]}),l&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Description"}),a.jsx("input",{type:"text",value:h,onChange:k=>f(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Brief description of the image"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with accessibility and SEO"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),a.jsxs("div",{className:"space-y-3",children:[d&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:d,alt:h||i||"Domain image",className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Domain Image"}),a.jsx("p",{className:"text-xs text-gray-500",children:h||"No description provided"})]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users will see:"}),a.jsx("span",{className:"ml-2 font-medium text-gray-900",children:i||"Client Portal"})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Actual domain:"}),a.jsx("span",{className:"ml-2 text-gray-600 font-mono",children:n||"https://example.com"})]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:v||x,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors",children:x?"Uploading...":v?"Adding...":"Add Domain"})]})]})]})})}function K0({domain:t,currentUser:e,onClose:r,onDomainUpdated:n}){const[s,i]=E.useState(t.masked_name),[o,l]=E.useState(null),[u,d]=E.useState(""),[c,h]=E.useState(t.image_alt||""),[f,v]=E.useState(!1),[y,x]=E.useState(!1),[_,m]=E.useState(!1),[p,g]=E.useState(null),w=N=>{var R;const L=(R=N.target.files)==null?void 0:R[0];if(L){if(!L.type.startsWith("image/")){g("Please select an image file");return}if(L.size>5*1024*1024){g("Image must be smaller than 5MB");return}l(L),v(!1),g(null);const me=URL.createObjectURL(L);d(me)}},b=()=>{l(null),u&&(URL.revokeObjectURL(u),d(""))},k=()=>{v(!0),l(null),u&&(URL.revokeObjectURL(u),d(""))},S=async N=>{N.preventDefault(),x(!0),g(null);try{let L=t.image_url;f?(t.image_url&&await Se.deleteDomainImage(t.image_url),L=null):o&&(m(!0),t.image_url&&await Se.deleteDomainImage(t.image_url),L=await Se.uploadDomainImage(o,t.id)),await Se.updateDomainImage(t.id,L,c||null),n()}catch(L){g(L instanceof Error?L.message:"Failed to update domain")}finally{x(!1),m(!1)}};return sc.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Domain"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[p&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(ts,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-700 text-sm",children:p})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Domain Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:t.original_domain,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",disabled:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Original domain cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Masked Name"}),a.jsx("input",{type:"text",value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Client Portal",required:!0})]}),t.image_url&&!f&&!o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Image"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:t.image_url,alt:t.image_alt||t.masked_name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Current domain image"}),a.jsx("p",{className:"text-xs text-gray-500",children:t.image_alt||"No description"})]}),a.jsx("button",{type:"button",onClick:k,className:"text-red-500 hover:text-red-700 transition-colors",children:a.jsx(Kr,{className:"w-4 h-4"})})]})})]}),(!t.image_url||f)&&!o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload New Image"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",id:"image-upload"}),a.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[a.jsx(Lh,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload an image"}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})]})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Image"}),a.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(o.size/1024/1024).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",onClick:b,className:"text-red-500 hover:text-red-700 transition-colors",children:a.jsx(Kr,{className:"w-4 h-4"})})]})})]}),(o||t.image_url&&!f)&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Description"}),a.jsx("input",{type:"text",value:c,onChange:N=>h(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Brief description of the image"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Helps with accessibility and SEO"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:y||_,className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white rounded-lg transition-colors",children:_?"Uploading...":y?"Updating...":"Update Domain"})]})]})]})})}function G0({domains:t,currentUser:e,onDomainCreated:r,onDomainUpdated:n}){const[s,i]=E.useState(!1),[o,l]=E.useState(null),[u,d]=E.useState({}),c=h=>{d(f=>({...f,[h]:!f[h]}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Domain Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage domains with masked names for user access"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Domain"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(h=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[h.image_url?a.jsx("img",{src:h.image_url,alt:h.image_alt||h.masked_name,className:"w-12 h-12 object-cover rounded-lg border border-gray-200",onError:f=>{var v;f.currentTarget.style.display="none",(v=f.currentTarget.nextElementSibling)==null||v.classList.remove("hidden")}}):null,a.jsx("div",{className:`bg-green-100 p-2 rounded-lg ${h.image_url?"hidden":""}`,children:h.image_url?a.jsx(U0,{className:"w-5 h-5 text-green-600"}):a.jsx(Je,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:h.masked_name}),a.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Masked Name"})]})]})}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Original Domain:"}),a.jsx("button",{onClick:()=>c(h.id),className:"text-gray-500 hover:text-gray-700",children:a.jsx($0,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-gray-900 font-mono",children:u[h.id]?h.original_domain:"●".repeat(h.original_domain.length)})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(ui,{className:"w-4 h-4"}),a.jsxs("span",{children:["Created ",new Date(h.created_at).toLocaleDateString()]})]})]}),a.jsx("div",{className:"mt-4",children:a.jsxs("button",{onClick:()=>l(h),className:"w-full flex items-center justify-center space-x-2 bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-2 rounded-lg transition-colors",children:[a.jsx(z0,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Domain"})]})})]},h.id))}),t.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[a.jsx(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No domains yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first domain to get started"}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors mx-auto",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Domain"})]})]}),s&&a.jsx(q0,{currentUser:e,onClose:()=>i(!1),onDomainCreated:()=>{i(!1),r()}}),o&&a.jsx(K0,{domain:o,currentUser:e,onClose:()=>l(null),onDomainUpdated:()=>{l(null),n()}})]})}function Q0(){const[t,e]=E.useState([]),[r,n]=E.useState(!0),[s,i]=E.useState("");E.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]);const o=async()=>{try{const{data:h,error:f}=await rr.from("user_profiles").select("*").not("last_login","is",null).gte("last_login",new Date(Date.now()-864e5).toISOString()).order("last_login",{ascending:!1});if(f)throw f;const v=(h||[]).map(y=>({id:y.id,email:y.email,role:y.role,last_sign_in_at:y.last_login,created_at:y.created_at,is_blocked:y.is_blocked||!1}));e(v)}catch(h){console.error("Failed to load active users:",h)}finally{n(!1)}},l=t.filter(h=>h.email.toLowerCase().includes(s.toLowerCase())||h.role.toLowerCase().includes(s.toLowerCase())),u=h=>{const f=new Date,v=new Date(h),y=Math.floor((f.getTime()-v.getTime())/1e3);return y<60?`${y}s ago`:y<3600?`${Math.floor(y/60)}m ago`:y<86400?`${Math.floor(y/3600)}h ago`:`${Math.floor(y/86400)}d ago`},d=(h,f)=>{if(f)return"orange";const v=new Date,y=new Date(h),x=Math.floor((v.getTime()-y.getTime())/(1e3*60));return x<30?"green":x<120?"yellow":"gray"},c=(h,f)=>{if(f)return"Blocked";const v=new Date,y=new Date(h),x=Math.floor((v.getTime()-y.getTime())/(1e3*60));return x<30?"Active":x<120?"Recently Active":"Inactive"};return r?a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})}):a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:a.jsx(wa,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent User Activity"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Monitor users who have signed in within the last 24 hours",s&&a.jsxs("span",{className:"ml-2 text-blue-600",children:["• Showing ",l.length," of ",t.length," users"]})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Search users by email or role..."}),s&&a.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(dr,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"mb-4 flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($h,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"text-gray-600",children:[l.length," user",l.length!==1?"s":""," with recent activity"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ci,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-600",children:"Auto-refresh every 10s"})]})]}),l.length>0?a.jsx("div",{className:"space-y-3",children:l.map(h=>{const f=d(h.last_sign_in_at,h.is_blocked),v=c(h.last_sign_in_at,h.is_blocked);return a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${f==="green"?"bg-green-100":f==="yellow"?"bg-yellow-100":f==="orange"?"bg-orange-100":"bg-gray-100"}`,children:a.jsx(M0,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:h.email}),a.jsxs("p",{className:"text-sm text-gray-600",children:[h.role," • Member since ",new Date(h.created_at).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${f==="green"?"bg-green-500":f==="yellow"?"bg-yellow-500":f==="orange"?"bg-orange-500":"bg-gray-500"}`}),a.jsx("span",{className:`text-sm font-medium ${f==="green"?"text-green-600":f==="yellow"?"text-yellow-600":f==="orange"?"text-orange-600":"text-gray-600"}`,children:v})]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Last sign in: ",u(h.last_sign_in_at)]})]})]},h.id)})}):t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wa,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No recent user activity"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(di,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:['No users match your search for "',s,'"']}),a.jsx("button",{onClick:()=>i(""),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Clear search"})]})]})}function J0({currentUser:t,onLogout:e}){const[r,n]=E.useState("users"),[s,i]=E.useState([]),[o,l]=E.useState([]),[u,d]=E.useState(!0);E.useEffect(()=>{c()},[]);const c=async()=>{try{if(console.log("AdminDashboard: Loading data..."),d(!0),!Ir||!Se)throw new Error("Services not available - check Supabase configuration");const[f,v]=await Promise.all([Ir.getAllUsers(),Se.getAllDomains()]);console.log("AdminDashboard: Loaded users:",f==null?void 0:f.length,"domains:",v==null?void 0:v.length),i(f||[]),l(v||[]),console.log("AdminDashboard: State updated with users:",f==null?void 0:f.length)}catch(f){console.error("Failed to load data:",f),alert(`Failed to load data: ${f instanceof Error?f.message:"Unknown error"}. Please check your internet connection and try again.`)}finally{d(!1)}},h=async()=>{try{await es.signOut(),e()}catch(f){console.error("Logout failed:",f)}};return u?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/Screenshot 2025-09-29 084820.png",alt:"KaizenLib Logo",className:"w-40 h-30 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage users and domains"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t.email]}),a.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Ah,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>n("users"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="users"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx($h,{className:"w-5 h-5"}),a.jsx("span",{children:"User Management"}),a.jsx("span",{className:"bg-gray-100 text-gray-600 py-1 px-2 rounded-full text-xs",children:s.length})]}),a.jsxs("button",{onClick:()=>n("domains"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="domains"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Je,{className:"w-5 h-5"}),a.jsx("span",{children:"Domain Management"}),a.jsx("span",{className:"bg-gray-100 text-gray-600 py-1 px-2 rounded-full text-xs",children:o.length})]}),a.jsxs("button",{onClick:()=>n("sessions"),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(D0,{className:"w-5 h-5"}),a.jsx("span",{children:"Active Sessions"})]})]})}),a.jsx("div",{className:"py-8",children:r==="users"?a.jsx(V0,{users:s,domains:o,onUserCreated:c,onUserUpdated:c}):r==="domains"?a.jsx(G0,{domains:o,currentUser:t,onDomainCreated:c,onDomainUpdated:c}):a.jsx(Q0,{})})]})]})}function Y0({currentUser:t,onLogout:e}){const[r,n]=E.useState([]),[s,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{console.log("Loading domains for user:",t.id),i(!0);const h=await Se.getUserDomains(t.id);console.log("Loaded domains:",h),n(h||[])}catch(h){console.error("Failed to load user domains:",h)}finally{i(!1)}},l=async()=>{try{await es.signOut(),e()}catch(h){console.error("Logout failed:",h)}},u=h=>{var f;(f=h.domain)!=null&&f.original_domain&&window.open(h.domain.original_domain,"_blank")},c=(()=>{if(!t.expires_at)return null;const h=new Date(t.expires_at),f=new Date,v=h.getTime()-f.getTime(),y=Math.ceil(v/(1e3*60*60*24)),x=Math.ceil(v/(1e3*60*60)),_=Math.ceil(v/(1e3*60)),m=v>0&&v<=24*60*60*1e3;return{expirationDate:h,daysRemaining:y,hoursRemaining:x,minutesRemaining:_,isTrial:m,isExpired:y<0,isExpiringSoon:y<=7&&y>0,timeText:m&&v>0?x>1?`${x} hours`:`${_} minutes`:`${Math.abs(y)} days`}})();return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your domains..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/Screenshot 2025-09-29 084820.png",alt:"KaizenLib Logo",className:"w-40 h-30 object-contain"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"My Apps"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Access your application clicking on it"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t.email]}),a.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(Ah,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[a.jsx("div",{className:`rounded-xl p-4 mb-6 ${t.is_blocked?"bg-orange-50 border border-orange-200":"bg-blue-50 border border-blue-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${t.is_blocked?"bg-orange-100":"bg-blue-100"}`,children:a.jsx(ci,{className:`w-5 h-5 ${t.is_blocked?"text-orange-600":"text-blue-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-semibold ${t.is_blocked?"text-orange-800":"text-blue-800"}`,children:"Account Information"}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("div",{className:"flex items-center space-x-1",children:a.jsxs("span",{className:`text-sm ${t.is_blocked?"text-orange-700":"text-blue-700"}`,children:["Role: ",t.role]})}),t.expires_at?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ui,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:`text-sm ${c!=null&&c.isExpired?"text-red-700":c!=null&&c.isExpiringSoon?"text-yellow-700":"text-blue-700"}`,children:["Expires: ",c==null?void 0:c.expirationDate.toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ci,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:`text-sm font-medium ${c!=null&&c.isExpired?"text-red-700":c!=null&&c.isExpiringSoon||c!=null&&c.isTrial?"text-yellow-700":"text-blue-700"}`,children:c!=null&&c.isExpired?`Expired ${c==null?void 0:c.timeText} ago`:`${c==null?void 0:c.timeText} remaining`})]})]}):a.jsx("div",{className:"flex items-center space-x-1",children:a.jsx("span",{className:"text-sm text-blue-700",children:"No expiration date (permanent access)"})})]})]})]})}),t.is_blocked?a.jsx("div",{className:"rounded-xl p-4 mb-6 bg-orange-50 border border-orange-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-orange-100",children:a.jsx(Nn,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-orange-800",children:"Account Blocked"}),a.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your account has been temporarily blocked. Please contact your administrator for assistance."})]})]})}):t.expires_at&&((c==null?void 0:c.isExpired)||(c==null?void 0:c.isExpiringSoon)||(c==null?void 0:c.isTrial))&&a.jsx("div",{className:`rounded-xl p-4 mb-6 ${c!=null&&c.isExpired?"bg-red-50 border border-red-200":c!=null&&c.isTrial?"bg-orange-50 border border-orange-200":"bg-yellow-50 border border-yellow-200"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${c!=null&&c.isExpired?"bg-red-100":c!=null&&c.isTrial?"bg-orange-100":"bg-yellow-100"}`,children:a.jsx(xa,{className:`w-5 h-5 ${c!=null&&c.isExpired?"text-red-600":c!=null&&c.isTrial?"text-orange-600":"text-yellow-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-semibold ${c!=null&&c.isExpired?"text-red-800":c!=null&&c.isTrial?"text-orange-800":"text-yellow-800"}`,children:c!=null&&c.isExpired?"Account Expired":c!=null&&c.isTrial?"Trial Account":"Account Expiring Soon"}),c!=null&&c.isExpired?a.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Your account has expired. Please contact your administrator to renew access."}):c!=null&&c.isTrial?a.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["You're using a trial account with ",c==null?void 0:c.timeText," remaining. Contact your administrator to upgrade to a full account."]}):a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Your account will expire soon. Contact your administrator if you need to extend access."})]})]})})]}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.is_blocked?a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 max-w-md mx-auto",children:[a.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Nn,{className:"w-8 h-8 text-orange-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Blocked"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been temporarily blocked and you cannot access any domains at this time."}),a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-orange-800",children:[a.jsx("strong",{children:"Need help?"}),a.jsx("br",{}),"Please contact your system administrator to resolve this issue and restore access to your account."]})})]})}):r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(h=>{var f,v,y;return a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all duration-200 group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[(f=h.domain)!=null&&f.image_url?a.jsx("img",{src:h.domain.image_url,alt:h.domain.image_alt||h.domain.masked_name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200",onError:x=>{var _;x.currentTarget.style.display="none",(_=x.currentTarget.nextElementSibling)==null||_.classList.remove("hidden")}}):null,a.jsx("div",{className:`bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-lg ${(v=h.domain)!=null&&v.image_url?"hidden":""}`,children:a.jsx(Je,{className:"w-6 h-6 text-white"})})]}),a.jsx("div",{className:"bg-green-100 px-2 py-1 rounded-full",children:a.jsx(_l,{className:"w-4 h-4 text-green-600"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(y=h.domain)==null?void 0:y.masked_name}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(ui,{className:"w-4 h-4"}),a.jsxs("span",{children:["Assigned ",new Date(h.assigned_at).toLocaleDateString()]})]})]}),a.jsxs("button",{onClick:()=>u(h),className:"w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-4 py-3 rounded-lg transition-all duration-200 group-hover:shadow-lg",children:[a.jsx("span",{children:"Access Resource"}),a.jsx(R0,{className:"w-4 h-4"})]})]},h.id)})}):a.jsx("div",{className:"text-center py-16",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 max-w-md mx-auto",children:[a.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Je,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Domains Assigned"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have access to any domains yet. Contact your administrator to get access to resources."}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"}),a.jsx("br",{}),"Reach out to your system administrator to request domain access."]})})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:a.jsx(wa,{className:"w-5 h-5 text-blue-600"})}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Important Notice:"})," All access is monitored and logged for security purposes. Only one active session per user is allowed - logging in from another device will automatically sign you out from previous sessions."]})})]})})})]})}function X0(){const[t,e]=E.useState(0),{user:r,loading:n,error:s}=T0(t);console.log("App render - user:",r,"loading:",n,"error:",s);const i=()=>{console.log("handleLoginSuccess called, refreshing auth state..."),e(l=>l+1)},o=()=>{e(l=>l+1)};return n?(console.log("App: Showing loading screen"),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading application..."})]})})):s?(console.log("App: Showing error screen"),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("h1",{className:"text-xl font-semibold text-red-600 mb-2",children:"Authentication Error"}),a.jsx("p",{className:"text-gray-600",children:s})]})})):r?r.role==="admin"?(console.log("App: Showing admin dashboard"),a.jsx(J0,{currentUser:r,onLogout:o})):(console.log("App: Showing user dashboard"),a.jsx(Y0,{currentUser:r,onLogout:o})):(console.log("App: Showing login form"),a.jsx(F0,{onLoginSuccess:i}))}ah(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx(X0,{})}));
